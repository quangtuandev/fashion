!function(t){"use strict";function e(e,a){var i;return i=t(e).is(".cpf_hide_element")?t(e):t(e).closest(".cpf_hide_element"),!1!==t(i).data("isactive")&&!1!==t(i).closest(".cpf-section").data("isactive")?(t(e).prop("disabled",!1),"yes"!==D.tm_epo_show_only_active_quantities?t(e).is(":radio")?t(e).is(":checked")?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0):t(e).is("select")?t(e).val()?i.find(".tm-qty").prop("disabled",!1):i.find(".tm-qty").prop("disabled",!0):i.find(".tm-qty").prop("disabled",!1):a||i.find(".tm-quantity").trigger("showhide.cpfcustom"),t(e).is(".cpf_hide_element")||(t(e).removeClass("tcdisabled").addClass("tcenabled"),t(e).is(".tmcp-upload")&&t(e).next(".tmcp-upload-hidden").length&&t(e).next(".tmcp-upload-hidden").removeClass("tcdisabled").addClass("tcenabled").prop("disabled",!1)),t(e).trigger({type:"tm-field-is-active",field:e,value:!0}),!0):(t(e).is(".cpf_hide_element")||(t(e).prop("disabled",!0),t(e).removeClass("tcenabled").addClass("tcdisabled"),i.find(".tm-qty").prop("disabled",!0),t(e).is(".tmcp-upload")&&t(e).next(".tmcp-upload-hidden").length&&t(e).next(".tmcp-upload-hidden").removeClass("tcenabled").addClass("tcdisabled").prop("disabled",!0)),t(e).trigger({type:"tm-field-is-active",field:e,value:!1}),!1)}function a(t){var e;if(void 0!==t.per_product_pricing)e=t.per_product_pricing;else if(void 0!==t.is_priced_individually)for(var a in t.is_priced_individually)if(t.is_priced_individually.hasOwnProperty(a)&&"yes"==(e=t.is_priced_individually[a]))return!0;return!0===e}function i(a){t(a).length||(a="body");var i=(a=t(a)).find(".iscpfdependson");i.each(function(e,a){t(a).each(function(e,a){o(t(a))})}),i.each(function(e,a){t(a).each(function(e,a){o(t(a),"cpflogic")})}),i.each(function(a,i){t(i).each(function(a,i){(i=t(i)).is(".cpf-section")&&(i=i.find(".cpf_hide_element")),i.each(function(a,i){e(t(i).find(".tm-epo-field"))})})}),t().selectric&&t(".tm-extra-product-options select").selectric("refresh"),setTimeout(function(){t(".tm-owl-slider").each(function(){t(this).trigger("refresh.owl.carousel")})},200);var r=[];a.find(".tm-product-image:checked,select.tm-product-image").each(function(){var a=t(this);e(a)&&""!==a.val()&&r.push(a)}),r.length&&r[r.length-1].trigger("tm_trigger_product_image"),ct.trigger("cpflogicrun"),ct.trigger("tmlazy"),ct.trigger("cpflogicdone")}function o(a,i){a.each(function(a,o){var r=t(this),c=r.data("matches"),d=r.data("toggle"),s=r.data("what"),l=r.data("fields"),p=0,m=!1;switch(d){case"show":m=!1;break;case"hide":m=!0}t.each(l,function(a,o){var r=!0;"cpflogic"==i&&(r=e(t(o.element))),r&&n(o)&&p++}),"all"==s?c==p&&(m=!m):p>0&&(m=!m),m?("cpflogic"==i&&r.find(".tm-epo-field").each(function(a,i){!e(i=t(i))||i.data("initial_activation")||r.closest(".cpf-section").is(".tc-hidden")||(i.trigger("tc_element_epo_rules"),i.data("initial_activation",1))}),r.removeClass("tc-hidden")):r.addClass("tc-hidden"),r.data("isactive",m)})}function r(a,i){var o,r=!0,n=a.find(".cpf_hide_element");return t(n).each(function(a,n){if(n=t(n),e(n)){var c=n.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(c.length>0){switch(c=c[0]){case"cpf-type-radio":var s=n.find("input.tm-epo-field.tmcp-radio:checked");"isnotempty"==i?r=r&&s.length>0:"isempty"==i&&(r=r&&0===s.length);break;case"cpf-type-checkbox":var l=n.find("input.tm-epo-field.tmcp-checkbox:checked");"isnotempty"==i?r=r&&l.length>0:"isempty"==i&&(r=r&&0===l.length);break;case"cpf-type-select":var p=n.find("select.tm-epo-field.tmcp-select").children("option"),m=n.find("select.tm-epo-field.tmcp-select").children("option:selected"),f=p.index(m);""===p.eq(0).val()&&""===p.eq(0).attr("data-rulestype")&&(f-=1);var _="_"+f;_=_.length,(o=n.find("select.tm-epo-field.tmcp-select").val())&&(o=o.slice(0,-_));break;case"cpf-type-textarea":o=n.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":o=n.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":o=n.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":o=n.find("input.tm-epo-field.tmcp-range").val()}r=r&&d(o,"",i)}else r=r&&!1}}),r}function n(e){var a,i,o,n=t(e.element),s=e.operator,l=e.value;if(!n.length)return!1;if(n.is(".cpf-section"))return r(n,s);var p=n.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(p.length>0){switch(p=p[0]){case"cpf-type-radio":var m=n.find("input.tm-epo-field.tmcp-radio"),f=n.find("input.tm-epo-field.tmcp-radio:checked");if("is"==s||"isnot"==s){if(0===f.length)return!1;i=m.index(f),o=(o="_"+i).length,(a=n.find("input.tm-epo-field.tmcp-radio:checked").val())&&(a=a.slice(0,-o))}else{if("isnotempty"==s)return f.length>0;if("isempty"==s)return 0===f.length}break;case"cpf-type-checkbox":var _=n.find("input.tm-epo-field.tmcp-checkbox"),u=n.find("input.tm-epo-field.tmcp-checkbox:checked");if("is"==s||"isnot"==s){if(0===u.length)return!1;var g=!1;return u.each(function(e,r){if(i=_.index(t(r)),o="_"+i,o=o.length,(a=t(r).val())&&(a=a.slice(0,-o)),d(a,l,s))g=!0;else if("isnot"==s)return g=!1,!1}),g}if("isnotempty"==s)return u.length>0;if("isempty"==s)return 0===u.length;break;case"cpf-type-select":var h=n.find("select.tm-epo-field.tmcp-select").children("option"),v=n.find("select.tm-epo-field.tmcp-select").children("option:selected");i=h.index(v),""===h.eq(0).val()&&""===h.eq(0).attr("data-rulestype")&&(i-=1),o=(o="_"+i).length,(a=n.find("select.tm-epo-field.tmcp-select").val())&&(a=a.slice(0,-o));break;case"cpf-type-textarea":a=n.find("textarea.tm-epo-field.tmcp-textarea").val();break;case"cpf-type-textfield":a=n.find("input.tm-epo-field.tmcp-textfield").val();break;case"cpf-type-color":a=n.find("input.tm-epo-field.tm-color-picker").val();break;case"cpf-type-range":a=n.find("input.tm-epo-field.tmcp-range").val();break;case"cpf-type-variations":return c(n,l,s)}return d(a,l,s)}return!1}function c(e,a,i){null!==e&&null!==a&&(a=a?parseInt(a,10):-1);var o,r=t(e).closest(".variations_form"),n='input[name^="variation_id"]';switch(r.find("input.variation_id").length>0&&(n="input.variation_id"),o=parseInt(r.find(n,10).val()),isNaN(o)&&(o=""),isNaN(a)&&(a=""),i){case"is":return""!==o&&o==a;case"isnot":return""!==o&&o!=a;case"isempty":return""===o||0===o;case"isnotempty":return""!==o&&0!==o;case"startswith":return o.startsWith(a);case"endswith":return o.endsWith(a);case"greaterthan":return parseFloat(o)>parseFloat(a);case"lessthan":return parseFloat(o)<parseFloat(a)}return!1}function d(e,a,i){switch(null!==e&&null!==a&&(e=encodeURIComponent(e),a=t.qtranxj_split?encodeURIComponent(t.qtranxj_split(decodeURIComponent(a))[O.language]):encodeURIComponent(decodeURIComponent(a)),e=e?e.toLowerCase():"",a=a?a.toLowerCase():""),i){case"is":return null!==e&&e==a;case"isnot":return null!==e&&e!=a;case"isempty":return!(void 0!==e&&""!==e);case"isnotempty":return void 0!==e&&""!==e;case"startswith":return e.startsWith(a);case"endswith":return e.endsWith(a);case"greaterthan":return parseFloat(e)>parseFloat(a);case"lessthan":return parseFloat(e)<parseFloat(a)}return!1}function s(e){var a=t(e);if(0!==a.length){if(a.is(".cpf-section"))return e.find(".tm-epo-field");var i=a.attr("data-uniqid"),o=a.closest(".tc-extra-product-options").attr("data-epo-id");if($&&$[o]&&$[o][i])return $[o][i];var r=a.attr("class").split(" ").map(function(t){if(-1!==t.indexOf("cpf-type-",0))return t}).filter(function(t,e,a){if(null!==t&&void 0!==t)return t});if(r.length>0)switch(r=r[0]){case"cpf-type-radio":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-radio"),$[o][i];case"cpf-type-checkbox":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-checkbox"),$[o][i];case"cpf-type-select":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-select"),$[o][i];case"cpf-type-textarea":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-textarea"),$[o][i];case"cpf-type-textfield":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-textfield"),$[o][i];case"cpf-type-color":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tm-color-picker"),$[o][i];case"cpf-type-range":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-range"),$[o][i];case"cpf-type-date":return $[o]=[],$[o][i]=a.find(".tm-epo-field.tmcp-date"),$[o][i];case"cpf-type-variations":return $[o]=[],$[o][i]=a.closest(".cpf-section").find(".tm-epo-field.tm-epo-variation-element"),$[o][i]}else;}}function l(t){return"object"==typeof t&&"toggle"in t&&"what"in t&&"rules"in t&&t.rules.length>0}function p(e){var a,i=t(e),o=i.find(".cpf-section");a=!i.is(".cpf-section")&&o,i.each(function(e,o){(t(o).is(".cpf-section")?t(o):t(o).find(".cpf-section")).each(function(e,o){var r=t(o),n=r.data("logic"),c=[];1==parseInt(r.data("haslogic"),10)&&l(n)&&(t.each(n.rules,function(t,e){if(e){var o,r,n=e.section,d=e.element,s=e.operator,l=e.value;a?(o=a.filter('[data-uniqid="'+n+'"]'),r=d!=n?o.find(".cpf_hide_element").eq(d):o):r=d!=n?i.find(".cpf_hide_element").eq(d):o,c.push({element:r,operator:s,value:l})}}),r.data("iscpfdependson")?r.cpfdependson(r.data("cpfdependson-fields"),n.toggle,n.what,!0):(r.data("cpfdependson-fields",c),r.cpfdependson(c,n.toggle,n.what)))})})}function m(e){var a,i=t(e),o=i.find(".cpf-section");a=!i.is(".cpf-section")&&o,i.find(".cpf_hide_element").each(function(e,o){var r=t(o),n=r.data("logic");if(1==parseInt(r.data("haslogic"),10)&&l(n)){var c=[];t.each(n.rules,function(t,e){if(e){var o,r,n=e.section,d=e.element,s=e.operator,l=e.value;a?(o=a.filter('[data-uniqid="'+n+'"]'),r=d!=n?o.find(".cpf_hide_element").eq(d):o):r=d!=n?i.find(".cpf_hide_element").eq(d):o,c.push({element:r,operator:s,value:l})}}),r.data("iscpfdependson")?r.cpfdependson(r.data("cpfdependson-fields"),n.toggle,n.what,!0):(r.data("cpfdependson-fields",c),r.cpfdependson(c,n.toggle,n.what))}})}function f(t,e,a,i){if(isNaN(parseFloat(t))&&(t=0),t*=1e4,e){var o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=(e.attr("data-base-tax-rate"),e.attr("data-prices-include-tax")),c=e.attr("data-is-vat-exempt"),d=e.attr("data-non-base-location-prices"),s=e.attr("data-taxes-of-one"),l=e.attr("data-base-taxes-of-one"),p=e.attr("data-modded-taxes-of-one");if(void 0!==e.data("current_variation")){var m=e.data("current_variation");o=m.tc_is_taxable,r=m.tc_tax_rate,m.tc_base_tax_rate,d=m.tc_non_base_location_prices,s=m.tc_taxes_of_one,l=m.tc_base_taxes_of_one,p=m.tc_modded_taxes_of_one}a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),o&&("1"!=n||i?t=parseFloat(t)*(1+r/100):"1"==c?t="1"==d?parseFloat(t)-s*t:parseFloat(t)-l*t:"1"==d&&(t=parseFloat(t)-l*t+p*t))}return t/=1e4}function _(t,e,a,i){if(isNaN(parseFloat(t))&&(t=0),t*=1e4,e){var o=e.attr("data-taxable"),r=e.attr("data-tax-rate"),n=e.attr("data-base-taxes-of-one"),c=e.attr("data-prices-include-tax");if(void 0!==e.data("current_variation")){var d=e.data("current_variation");o=d.tc_is_taxable,r=d.tc_tax_rate,n=d.tc_base_taxes_of_one}a&&a.data("tax-obj")&&("no"===(r=a.data("tax-obj")).has_fee?o=!1:"yes"===r.has_fee&&(o=!0),r=r.tax_rate),(o&&"1"==c||i)&&(t=parseFloat(t)-parseFloat(n*t))}return t/=1e4}function u(t,e,a){return isNaN(parseFloat(t))&&(t=0),e&&(t="incl"==e.attr("data-tax-display-mode")?f(t,e,a):_(t,e,a)),t}function g(t,e,a){if(e){var i=e.attr("data-taxable"),o=e.attr("data-tax-rate"),r=e.attr("data-tax-display-mode"),n=e.attr("data-prices-include-tax");i&&("excl"==r||"1"==n||(t=parseFloat(t)/(1+o/100)))}return t}function h(t,e,a,i,o){a||(t=u(t,e,o));var r="";e&&i&&(r=e.attr("data-tax-string")),void 0===r&&(r="");var n=Math.abs(t),c="minus"==D.tm_epo_global_options_price_sign?"":D.plus_sign+" ";return t<0&&(c=D.minus_sign+" "),b(n,c,r)}function v(t,e,a,i,o){a||(t=u(t,e,o));var r="";e&&i&&(r=e.attr("data-tax-string")),void 0===r&&(r="");var n=Math.abs(t),c="";return t<0&&(c=D.minus_sign+" "),b(n,c,r)}function b(t,e,a){return e+T.formatMoney(t,{symbol:D.currency_format_symbol,decimal:Z,thousand:H,precision:D.currency_format_num_decimals,format:D.currency_format})+a}function y(e,a,i,o,r){var n=t(e);if(0!==n.length){isNaN(parseFloat(o))&&(o=0),isNaN(parseFloat(a))&&(a=0);var c=n.closest(".tmcp-field-wrap"),d=c.find(".before-amount,.after-amount"),s={price:i,original_price:r};if("yes"==D.tm_epo_auto_hide_price_if_zero&&!1===t.tmempty(a)||"yes"!=D.tm_epo_auto_hide_price_if_zero){var l=c.find(".tm-epo-field");l.length>0&&l.is(".tmcp-select")&&!l.children("option:selected").data("price")?(n.empty(),d.addClass("tm-hidden")):(o&&void 0!==o&&parseFloat(o)!==parseFloat(a)?n.html(t.fn.tm_template(st.sale_price,{price:s})):n.html(t.fn.tm_template(st.price,{price:s})),d.removeClass("tm-hidden"))}else n.empty(),d.addClass("tm-hidden")}}function w(t,e,a){X[X.length]={name:t,selector:e,func:a}}function k(e){var a={};return e.find(".variations select").each(function(){var e,i;e=void 0!==t(this).data("attribute_name")?t(this).data("attribute_name"):t(this).attr("name"),i=t(this).val(),a[e]=i}),a}function x(e,a){var i=[];if(e.find(".cpf-type-variations").each(function(o,r){i[o]=!0;var n,c,d=t(r).find(".tm-epo-variation-element"),s=!1;d.is("select")?(n=d.attr("data-tm-for-variation").tmjid(),(c=d.val())&&(i[o]=!1),d.children("option").each(function(a,i){s=!1,e.find("#"+n).children("option").each(function(){if(t(this).attr("value")==t(i).attr("value"))return s=!0,!1}),s?t(i).removeAttr("disabled").show():t(i).attr("disabled","disabled").hide()})):d.each(function(r,d){var s=(d=t(d)).closest("li"),l=s.find(".tm-epo-variation-element");n=d.attr("data-tm-for-variation"),c=d.val(),d.is(":checked")&&(i[o]=!1);var p=k(e);p["attribute_"+n]=c;var m=t.fn.tm_find_matching_variations(a,p).shift(),f=m&&"is_in_stock"in m&&m.is_in_stock;m&&f?(d.removeAttr("disabled").removeClass("tm-disabled"),s.removeClass("tm-attribute-disabled").fadeTo("fast",1,function(){t(this).css("opacity","")}),l.removeAttr("disabled"),l.removeAttr("data-tm-disabled")):(d.attr("disabled","disabled").addClass("tm-disabled"),l.attr("disabled","disabled"),l.attr("data-tm-disabled","disabled"),s.addClass("tm-attribute-disabled").fadeTo("fast",.5),f||s.find("label").off())})}),i){i.shift();var o=!0;t.each(i,function(t,e){if(!1===e)return o=!1,!1}),o&&e.find(".cpf-type-variations").first().each(function(e,a){var i=t(a).find(".tm-epo-variation-element");i.is("select")||i.each(function(e,a){var i=(a=t(a)).closest("li"),o=i.find(".tm-epo-variation-element");a.removeAttr("disabled").removeClass("tm-disabled"),i.removeClass("tm-attribute-disabled").stop().css("opacity",""),o.removeAttr("disabled"),o.removeAttr("data-tm-disabled")})})}}function F(e){var a,i=e.data("product_variations"),o=parseInt(e.data("product_id"),10);o||(o=e.data("tc_product_id")),!o&&e.is(et)&&(o=(a=e.find(".component_options").data("options_data"))[0].option_id,i||(i=e.find(".details.component_data").data("product_variations"))),!i&&window.product_variations&&window.product_variations.product_id&&(i=window.product_variations.product_id),!i&&window.product_variations&&(i=window.product_variations),!i&&window["product_variations_"+o]&&(i=window["product_variations_"+o]),i?x(e,i):W?x(e,W.variations):(a={action:"woocommerce_tm_get_variations_array",post_id:o},t.post(D.ajax_url,a,function(t){x(e,(W=t).variations)},"json"))}function q(e,a){if(void 0===a)return!1;var i=(e=t(e)).find(".tm-epo-variation-element"),o=i.closest(".tm-epo-variation-section");return i.length?(o.find(".tm-stock").remove(),o.append('<div class="tm-stock">'+a+"</div>"),!0):(e.find(".tm-stock").remove(),e.find(".variations").after('<div class="tm-stock">'+a+"</div>"),!0)}function C(t,e){if("no"!=D.tm_epo_global_move_out_of_stock){var a=t.find(".woocommerce-variation-availability").last();a.length||(a=t.find(".stock").last()),a.length?(e.find(".tm-stock").remove(),q(e,a.prop("outerHTML"))&&a.remove()):e.find(".tm-stock").remove()}}function z(o,r,c,d){function s(e){e||(e=Kt),e.find(".tm-range-picker").each(function(a,i){var o=(i=t(i)).attr("data-step").split("."),r=e.find("#"+i.attr("data-field-id").tmjid()),n=parseFloat(i.attr("data-min")),c=parseFloat(i.attr("data-max")),d=parseFloat(i.attr("data-start")),s=parseFloat(i.attr("data-step")),l=i.attr("data-show-picker-value"),p=i.closest("li").find(".tm-show-picker-value"),m=parseFloat(i.attr("data-noofpips")),f=null;o=1==o.length?0:o[1].length,isNaN(n)&&(n=0),isNaN(c)&&(c=0),c<=n&&c++,isNaN(d)&&(d=0),isNaN(s)&&(s=0),isNaN(m)&&(m=10),"yes"==i.attr("data-pips")&&(f={mode:"count",values:m,density:2,filter:function(t,e){return s<=0?0:t%1?2:1},stepped:!0,format:S({decimals:o})}),E.create(i.get(0),{direction:D.text_direction,start:d,step:s,connect:"lower",behaviour:"tap",format:S({mark:".",decimals:o,thousand:""}),range:{min:[n],max:[c]},pips:f});var _=i.find(".noUi-handle-lower");i.get(0).noUiSlider.on("slide",function(){_.trigger("tmmovetooltip"),r.trigger("change.cpf")}),i.get(0).noUiSlider.on("update",function(t,e){e=0,"left"!=l&&"right"!=l&&_.attr("title",T.formatNumber(t[e],{decimal:Z,thousand:H,precision:o})),r.val(t[e]).change(),""!==l&&p.html(T.formatNumber(t[e],{decimal:Z,thousand:H,precision:o}))}),"left"!=l&&"right"!=l&&(_.attr("title",i.attr("data-start")),t.tm_tooltip(_)),""!==l&&(d=T.formatNumber(d,{decimal:Z,thousand:H,precision:o}),p.html(d))})}function l(e){function a(e,a){a=t(a);var i,o=t.tm_datepicker._getInst(a[0]),r=a.data("tc-enabled_only_dates"),n=a.data("tc-disabled_weekdays"),c=a.data("tc-disabled_dates"),d=a.data("tc-format"),s=e.getDay();return!!t.tm_datepicker._isInRange(o,e)&&(""!==r?(i=t.tm_datepicker.formatDate(d,e),-1!=r.indexOf(i)):-1==n.indexOf(s.toString())&&(""===c||(i=t.tm_datepicker.formatDate(d,e),-1==c.indexOf(i))))}if(t.tm_datepicker){e||(e=Kt);var i=t("input").map(function(){return this.id}).get().join(" ");e.find(".tm-epo-timepicker").each(function(e,a){var o=t(a),r=""!==o.attr("data-min-time").trim()?o.attr("data-min-time").trim():null,n=""!==o.attr("data-max-time").trim()?o.attr("data-max-time").trim():null,c=o.attr("data-time-format").trim(),d=o.attr("data-time-theme").trim(),s=o.attr("data-time-theme-size").trim(),l=o.attr("data-time-theme-position").trim(),p=o.attr("data-tranlation-hour").trim(),m=o.attr("data-tranlation-minute").trim(),f=o.attr("data-tranlation-second").trim();""!==o.attr("data-custom-time-format").trim()&&(c=o.attr("data-custom-time-format").trim()),p||(p=D.hourText),m||(m=D.minuteText),f||(f=D.secondText),o.tm_timepicker({isRTL:D.isRTL,hourText:p,minuteText:m,secondText:f,timeFormat:c,minTime:r,maxTime:n,closeText:D.closeText,showOn:"both",buttonText:"",beforeShow:function(e,a){t(a.dpDiv).removeClass(i).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+d+" tm-timepicker tm-datepicker tm-datepicker-"+l+" tm-datepicker-"+s).appendTo("body"),dt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){o.tm_timepicker("hide")}),t("body").addClass("tm-static"),o.prop("readonly",!0),ct.trigger({type:"tm-timepicker-beforeShow",input:e,inst:a})},onClose:function(e,a){t("body").removeClass("tm-static"),o.prop("readonly",!1),o.trigger("change")}}),t("#ui-tm-datepicker-div").hide()}),e.find(".tm-epo-datepicker").each(function(a,o){var r=t(o),n=parseInt(r.attr("data-start-year").trim(),10),c=parseInt(r.attr("data-end-year").trim(),10),d=r.attr("data-min-date").trim(),s=r.attr("data-max-date").trim(),l=r.attr("data-disabled-dates").trim(),p=r.attr("data-enabled-only-dates").trim(),m=r.attr("data-disabled-weekdays").trim().split(","),f=r.attr("data-date-format").trim(),_=r.attr("data-date-showon").trim(),u=r.attr("data-date-defaultdate").trim(),g=r.attr("data-date-theme").trim(),h=r.attr("data-date-theme-size").trim(),v=r.attr("data-date-theme-position").trim();if(""!==l){var b=l.split(",");-1!=l.indexOf(",")&&b.length>0&&(l=b)}if(""!==p){var y=p.split(",");-1!=p.indexOf(",")&&y.length>0&&(p=y)}d=""===d?""===n?null:new Date(n,0,1):d.tm_isNumeric()||isNaN(new Date(d).getTime())?d:new Date(d),s=""===s?""===c?null:new Date(c,11,31):s.tm_isNumeric()||isNaN(new Date(s).getTime())?s:new Date(s),r.data("tc-enabled_only_dates",p),r.data("tc-disabled_weekdays",m),r.data("tc-disabled_dates",l),r.data("tc-format",f),r.tm_datepicker({monthNames:D.monthNames,monthNamesShort:D.monthNamesShort,dayNames:D.dayNames,dayNamesShort:D.dayNamesShort,dayNamesMin:D.dayNamesMin,isRTL:D.isRTL,showOtherMonths:!0,selectOtherMonths:!0,showOn:_,defaultDate:u,buttonText:"",showButtonPanel:!0,firstDay:D.first_day,closeText:D.closeText,currentText:D.currentText,dateFormat:f,minDate:d,maxDate:s,onSelect:function(a,i){var o=t(this),r="#"+o.attr("id").tmjid(),n=o.attr("data-date-format"),c=o.tm_datepicker("getDate"),d="",s="",f="",_=e.find(r+"_day"),u=e.find(r+"_month"),g=e.find(r+"_year");if(c){d=c.getDate(),s=c.getMonth()+1,f=c.getFullYear();var h=t.tm_datepicker.formatDate(n,c);if(-1!=m.indexOf(c.getDay().toString())||-1!=l.indexOf(h)||""!==p&&-1==p.indexOf(h)){var v=o.data("tm-last-date");v=o.data("tm-last-date")?o.data("tm-last-date"):"",o.val(v),o.tm_datepicker("setDate",v),v?(d=(c=o.tm_datepicker("getDate")).getDate(),s=c.getMonth()+1,f=c.getFullYear()):(d="",s="",f="")}}_.val(d),u.val(s),g.val(f),o.data("tm-last-date",o.val())},beforeShow:function(e,a){t(a.dpDiv).removeClass(i).removeClass("tm-datepicker-normal tm-datepicker-top tm-datepicker-bottom").addClass(this.id+" tm-bsbb-all tm-ui-skin-"+g+" tm-datepicker tm-datepicker-"+v+" tm-datepicker-"+h).appendTo("body"),dt.off("click",".tm-ui-dp-overlay").on("click",".tm-ui-dp-overlay",function(){r.tm_datepicker("hide")}),t("body").addClass("tm-static"),r.prop("readonly",!0),ct.trigger({type:"tm-datepicker-beforeShow",input:e,inst:a})},onClose:function(e,a){t("body").removeClass("tm-static"),r.prop("readonly",!1),r.removeAttr("readonly"),r.trigger("change")},beforeShowDay:function(e){var a,i=e.getDay();return""!==p?(a=t.tm_datepicker.formatDate(f,e),[-1!=p.indexOf(a),""]):-1!=m.indexOf(i.toString())?[!1,""]:""!==l?(a=t.tm_datepicker.formatDate(f,e),[-1==l.indexOf(a),""]):[!0,""]}}),t("#ui-tm-datepicker-div").hide()}),e.find(".tmcp-date-select").on("change.cpf",function(a){var i="#"+t(this).attr("data-tm-date").tmjid(),o=e.find(i),r=o.attr("data-date-format"),n=e.find(i+"_day").val(),c=e.find(i+"_month").val(),d=e.find(i+"_year").val(),s=t.tm_datepicker.formatDate(r,new Date(d,c-1,n));n>0&&c>0&&d>0?(o.tm_datepicker("setDate",s),o.trigger("change")):(o.val(""),o.trigger("change.cpf"))}).on("focus.cpf",function(i){var o="#"+t(this).attr("data-tm-date").tmjid(),r=e.find(o),n=e.find(o+"_day"),c=e.find(o+"_month"),d=e.find(o+"_year"),s=n.val(),l=c.val(),p=d.val();if(""!==p&&""!==l&&""!==s||""!==p&&""!==l&&""===s||""!==s&&""!==p&&""===l||""!==s&&""!==l&&""===p){var m=t(this);m.find("option").each(function(){var e=t(this),i=e.val(),o=p+"-"+l+"-"+s;if(m.is(".tmcp-date-day")){if(""===p||""===l)return;o=p+"-"+l+"-"+i}else if(m.is(".tmcp-date-month")){if(""===p||""===s)return;o=p+"-"+i+"-"+s}else if(m.is(".tmcp-date-year")){if(""===s||""===l)return;o=i+"-"+l+"-"+s}if(""!==i)try{var n=t.tm_datepicker.parseDate("yy-mm-dd",o);n&&(a(n,r)?e.prop("disabled",!1):e.prop("disabled",!0))}catch(t){e.prop("disabled",!0)}})}else n.find("option").prop("disabled",!1),c.find("option").prop("disabled",!1),d.find("option").prop("disabled",!1)}),t(window).on("resizestart",function(){var e=t(document.activeElement);if(e.is(".hasDatepicker")){if(e.data("resizestarted",!0),t(window).width()<768)return void e.data("resizewidth",!0);e.tm_datepicker("hide")}}),t(window).on("resizestop",function(){var e=t(document.activeElement);e.is(".hasDatepicker")&&e.data("resizestarted")&&(e.data("resizewidth")&&e.tm_datepicker("hide"),e.tm_datepicker("show")),e.data("resizestarted",!1),e.data("resizewidth",!1)})}}function b(e){if("yes"==D.tm_epo_global_enable_validation){var a={};return Kt.find(".tmcp-ul-wrap").each(function(e,i){var o=(i=t(i)).data("tm-validation");if(o&&"object"===t.tmType(o)){var r=i.find(".tm-epo-field"),n=r.first().attr("name");i.is(".tm-extra-product-options-radio.tm-element-ul-radio")&&(n=r.last().attr("name")),i.is(".tm-extra-product-options-checkbox.tm-element-ul-checkbox")?r.each(function(e,n){"required"in o&&(o.required=function(e){var a=i.find("input.tm-epo-field.tmcp-checkbox:checked").length;return 0===a?r.last().attr("name")==t(e).attr("name"):a<=0}),a[t(n).attr("name")]=o}):a[n]=o}}),e.removeData("tc_validator"),e.tc_validate({focusInvalid:!1,ignore:V+",#wc_bookings_field_duration,input.tm-qty:hidden[type='number'],input.input-text.qty,.ignore,.variations select,.tm-extra-product-options-variations input,.tm-extra-product-options-variations select,input:not(.tc-extra-product-options input),select:not(.tc-extra-product-options select)",rules:a,errorClass:"tm-error",validClass:"tm-valid",errorElement:"label",errorPlacement:function(t,e){return e.is(".tm-epo-field.tmcp-radio")||e.is(".tm-epo-field.tmcp-checkbox")||e.is(".tm-epo-field.tmcp-radio")?t.appendTo(e.closest(".tmcp-ul-wrap").parent()):t.appendTo(e.closest(".tmcp-field-wrap")),!1},invalidHandler:function(e,a){ct.trigger("tm-invalidHandler",{epo:{validator:a}}),setTimeout(function(){o.find(tt).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled"),t.tcepo.temp_floatbox&&"object"==typeof t.tcepo.temp_floatbox&&t.tcepo.temp_floatbox.cancelfunc()},100),a.errorList&&a.errorList[0]&&a.errorList[0].element&&$(t(a.errorList[0].element))},submitHandler:function(t){return o.find(tt).first().addClass("disabled"),w()}}),!0}return!1}function w(e){var a,i,r=!0;for(i=0;i<Wt.length;i++)if(a=Wt[i],!("object"!=typeof a||"function"!=typeof a.trigger||a.trigger())){r=!1;break}for(i=0;i<Wt.length;i++)"object"==typeof(a=Wt[i])&&(r?a.on_true():a.on_false());return r||setTimeout(function(){o.find(tt).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled"),t.tcepo.temp_floatbox&&"object"==typeof t.tcepo.temp_floatbox&&t.tcepo.temp_floatbox.cancelfunc()},100),ct.trigger("tm-apply-submit-events",{epo:{form_is_submit:r}}),r}function k(t,e,a){return x(t,e,a)}function x(t,e,a){return e||(e="form"),q(t,a).closest(e)}function q(t,e){var a="";e&&(a=a+'[value="'+e+'"]'),t||(t=o);var i=t.find(Q+a);return 0===i.length&&(i=t.find(K+a)),i.last()}function z(){var e=x(),a=e.find(".wc-bookings-booking-form"),i=a.find("input, select").first(),o=a.find(".tm-epo-counter"),r=Ut.find(".tm-epo-counter"),n=te.attr("data-tm-epo-final-total-box"),s="hide"==n||"disable"==n||"disable_change"==n;i.length>0&&a.length>0&&r.length>0&&(e.on("submit",function(){e.find(tt).first().addClass("disabled")}),te.data("tc_is_bookings",1),te.data("bookings_form",a),te.data("bookings_form_init",0),te.data("price",0),Vt.find(".cpf-product-price").val(0),s||t.ajaxPrefilter(function(e,a,i){if("post"===e.type.toLowerCase()&&a.data&&a.data.action&&"wc_bookings_calculate_costs"==a.data.action&&a.data.form){var o=a.data.form.tmparseParams(!0);o=t.extend(o,{tc_suppress_filter_booking_cost:1}),a.data.form=t.param(o,!1),e.data=t.param(t.extend(a.data,{}),!1)}}),dt.ajaxSuccess(function(e,a,i){if(i.data&&a&&a.responseText){var o=i.data.tmparseParams();if(o.action&&"wc_bookings_calculate_costs"==o.action){var r=t.parseJSON(a.responseText);if(r.html)if(r&&"SUCCESS"==r.result){var n=parseFloat(t("<div>"+r.html+"</div>").find(".amount").text().tmunformat());if(!isNaN(n)){if(s){var c=te.data("tc_totals_ob").options_total_price;n=parseFloat(n)-parseFloat(c)}te.data("price",n),Vt.find(".cpf-product-price").val(n),te.data("bookings_form_init",1),Ut.trigger({type:"tm-epo-update"})}}else r&&"ERROR"==r.result&&te.data("bookings_form_init",0)}o.action&&"wc_bookings_get_blocks"==o.action&&(te.data("price",0),Vt.find(".cpf-product-price").val(0),Ut.trigger({type:"tm-epo-update",product_false:!0}))}}),s&&0==o.length&&Kt.find(".tm-epo-field").not(".tm-epo-counter").off("change.tcbookings").on("change.tcbookings",function(t){setTimeout(function(){i.trigger("change")},100)})),s&&!Zt&&i.length>0&&(Kt.find(".tm-epo-field").not(".tm-epo-counter").off("change.tcbookings").on("change.tcbookings",function(t){setTimeout(function(){i.trigger("change")},100)}),t.ajaxPrefilter(function(e,a,i){if("post"===e.type.toLowerCase()&&a.data&&a.data.action&&"wc_bookings_calculate_costs"==a.data.action&&a.data.form){var o=t(Y+".tm-cart-main.tm-product-id-"+c+'[data-epo-id="'+d+'"]');if(1==o.length){var r=a.data.form.tmparseParams(!0);r=t.extend(r,o.tm_aserializeObject()),a.data.form=t.param(r,!1),e.data=t.param(t.extend(a.data,{}),!1)}}}))}function N(){if($t&&"yes"==D.tm_epo_hide_add_cart_button){var t=o.find(tt).first();Bt?t.removeClass("tc-hide-add-to-cart-button"):t.addClass("tc-hide-add-to-cart-button")}}function j(e,a){var i,o=parseInt(e.attr("data-limit"),10),r=!1;return!(o>0&&(r=0,e.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e=t(this).closest("li.tmcp-field-wrap").find("input.tm-qty");e.length>0?((i=parseInt(e.val(),10))<=0&&(i=1),r+=i):r+=1}),r>o))||(a&&e.prop("checked","").trigger("change"),!1)}function I(e,a){var i,o=parseInt(e.attr("data-limit"),10),r=!1;return!((o=parseInt(e.attr("data-exactlimit"),10))>0&&(r=0,e.closest(".tm-extra-product-options-checkbox").find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e=t(this).closest("li.tmcp-field-wrap").find("input.tm-qty");e.length>0?((i=parseInt(e.val(),10))<=0&&(i=1),r+=i):r+=1}),r>o)&&(a&&e.prop("checked","").trigger("change"),1))}function A(a){var i=!0,r=!1;return a.each(function(){var a=t(this).find("[type='checkbox'][data-exactlimit]");if(a.length&&e(a)){var n=parseInt(a.attr("data-exactlimit"),10),c=0;t(this).find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e,a=t(this).closest("li.tmcp-field-wrap").find("input.tm-qty");a.length>0?((e=parseInt(a.val(),10))<=0&&(e=1),c+=e):c+=1});var d=t(this).closest(".cpf_hide_element").find("div.tm-error-min");if(n!==c){i=!1,r=t(this);var s=D.tm_epo_global_validator_messages.epoexact.replace("{0}",n);d.length&&d.remove(),t(this).after('<div class="tm-error-min tm-error">'+s+"</div>"),o.find(tt).first().removeClass("disabled").removeClass("loading").removeAttr("disabled").removeClass("fpd-disabled")}else d.remove()}}),r&&(Xt=r),i}function O(e){Wt[Wt.length]={trigger:function(){return A(e)},on_true:function(){return!0},on_false:function(){return $(t(e).find(".tm-epo-field").first()),!0}}}function U(a){var i=!0,o=!1;return a.each(function(){var a=t(this).find("[type='checkbox'][data-minimumlimit]");if(a.length&&e(a)){var r=parseInt(a.attr("data-minimumlimit"),10),n=0;t(this).find("input.tm-epo-field[type='checkbox']:checked").each(function(){var e,a=t(this).closest("li.tmcp-field-wrap").find("input.tm-qty");a.length>0?((e=parseInt(a.val(),10))<=0&&(e=1),n+=e):n+=1});var c=t(this).closest(".cpf_hide_element").find("div.tm-error-min");if(r>n){i=!1,o=t(this);var d=D.tm_epo_global_validator_messages.epomin.replace("{0}",r);c.length&&c.remove(),t(this).after('<div class="tm-error-min tm-error">'+d+"</div>")}else c.remove()}}),o&&(Xt=o),i}function W(t){Wt[Wt.length]={trigger:function(){return U(t)},on_true:function(){return!0},on_false:function(){return $(),!0}}}function $(e){var a=Xt||e;if(a){if("yes"!==D.tm_epo_disable_error_scroll){var i=a.closest(".cpf-section"),o=i.find(".tm-section-link"),r=a.closest(".cpf_hide_element");if(i.find(".tm-toggle").length&&i.find(".tm-toggle").trigger("openwrap.tmtoggle"),window.tc_validation_offset||(window.tc_validation_offset=-100),i.is(".section_popup"))t(window).tc_scrollTo(o,300,window.tc_validation_offset),o.trigger("click.tmsectionpoplink");else if(i.is(".tm-owl-slider-section")){var n=a.closest(".owl-item").index();i.find(".tcowl-carousel").trigger("to.owl.carousel",[n,100]),setTimeout(function(){i.find(".tcowl-carousel").trigger("refresh.owl.carousel"),r.length>0&&t(window).tc_scrollTo(r,300,window.tc_validation_offset)},200)}else r.length>0&&t(window).tc_scrollTo(r,300,window.tc_validation_offset)}e||(Xt=!1)}}function lt(){te.each(function(){var e=t(this).attr("data-cart-id"),a=o.find(".tm-extra-product-options.tm-cart-"+e),i=t(this).data("subscription-period"),r=t(this).data("variations-subscription-period"),n=a.find(".tmcp-field").closest(".tmcp-field-wrap");if(t(this).data("is-subscription")){n.find(".tmperiod").remove();var c=n.find(".amount").is(".hidden");c=c?" hidden":"";var d='input[name^="variation_id"]',s=t(this).data("tm_for_cart");if(s){s.find("input.variation_id").length>0&&(d="input.variation_id");var l=s.find(d).val();l||(l=0),r[l.tmtoFloat()]&&(i=r[l.tmtoFloat()])}void 0===window.subscription_period_separator&&(window.subscription_period_separator=" / "),n.find(".amount").after('<span class="tmperiod'+c+'">'+window.subscription_period_separator+i+"</span>"),t(this).find(".tmperiod").remove(),t(this).find(".amount.options").after('<span class="tmperiod">'+window.subscription_period_separator+i+"</span>"),t(this).find(".amount.final").after('<span class="tmperiod">'+window.subscription_period_separator+i+"</span>")}})}function pt(e){var a=e.attr("data-container-id");return a||(a=t(e).closest(".composite_form").find(".composite_data").data("container_id")),a}function mt(t){return o.find(".bto_form_"+t+",#composite_form_"+t+",#composite_data_"+t).data("price_data")}function ft(t){return" .review .price_"+t+", .summary_element_"+t+" .summary_element_price"}function _t(t){return t.attr("data-item-id")||t.attr("data-item_id")}function ut(e,a,i,o){return"object"==typeof e&&(e=e[0],isNaN(parseFloat(e))&&(e=0)),t.tc_apply_filters("tc_apply_dpd",e,a,i,o)}function gt(e){return t.tc_apply_filters("tc_calculate_product_price",parseFloat(e.data("price")),e)}function ht(e,a,i){var r,n,c,d,s,l,p,m,f=t(e),_=f,g=!0,v=f.is(".tmcp-range");if(a)r=a.bto,n=a.cart,c=a.current_variation,d=a.is_bto,s=a.bundleid,l=a.totals,m=a.product_price,p=a.apply_dpd;else{r=f.closest(et);var b='input[name^="variation_id"]';(n=f.closest(".cart")).find("input.variation_id").length>0&&(b="input.variation_id"),c=n.find(b).val(),d=r.length>0,(s=n.attr("data-product_id"))||(s=n.closest(".component_content").attr("data-product_id"))||(s=0),c||(c=0),m=gt(l=d?o.find(".tm-epo-totals.tm-cart-"+s):te),p=l.data("fields-price-rules")}f.is("select")&&(_=f.find("option:selected")),i&&(_=i);var w,k,x,F,q,C,z,N,j,T,D,I=_.data("rules"),A=_.data("rulestype"),O=_.data("original-rules");if(void 0===O&&(O=I),d){var S=n.find(".cpf-bto-price");S.length>0&&(S.data("per_product_pricing")?m=S.val():(m=0,g=!1),S.val(m))}if(!1!==g)if(F="","object"==typeof I){switch(c in I?(q=I[c],C=O[c]):(w=f.closest(".tmcp-ul-wrap").data("rules"),x=f.closest(".tmcp-ul-wrap").data("original-rules"),q="object"==typeof w&&c in w?w[c]:I[0],C="object"==typeof x&&c in x?x[c]:O[0]),"object"==typeof A?F=c in A?A[c]:"object"==typeof(k=f.closest(".tmcp-ul-wrap").data("rulestype"))&&c in k?k[c]:A[0]:"object"==typeof(A=f.closest(".tmcp-ul-wrap").data("rulestype"))&&(F=c in A?A[c]:A[0]),"object"==typeof F&&(F=F[0]),f.is(".tmcp-fee-field")&&-1===t.inArray(F,["fee","stepfee","stepfee"])&&(F="fee"),f.is("select")?f.find("option").each(function(){var e=t(this);e.removeData("tm-price-for-late"),e.removeData("islate"),e.removeClass("tm-epo-late-field")}):(_.removeData("tm-price-for-late"),_.removeData("islate"),_.removeClass("tm-epo-late-field")),"fee"==F&&(p=0),F){case"":q=ut(q,l,p),C=ut(C,l,p);break;case"fee":q=q,C=C;break;case"percent":q=q/100*m,C=C/100*m;break;case"percentcurrenttotal":ae.push({setter:_,price:q,bundleid:s}),_.data("tm-price-for-late",q).data("islate",1).addClass("tm-epo-late-field"),q=0,C=0;break;case"word":q=ut(q,l,p)*(_.val().split(/\w+/).length-1),C=ut(C,l,p)*(_.val().split(/\w+/).length-1);break;case"wordpercent":q=q/100*m*(_.val().split(/\w+/).length-1),C=C/100*m*(_.val().split(/\w+/).length-1);break;case"wordnon":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().split(/\w+/).length-1-T)<0&&(j=0),q=ut(q,l,p)*j,C=ut(C,l,p)*j;break;case"wordpercentnon":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().split(/\w+/).length-1-T)<0&&(j=0),q=q/100*m*j,C=C/100*m*j;break;case"char":q=ut(q,l,p)*_.val().length,C=ut(C,l,p)*_.val().length;break;case"charpercent":q=q/100*m*_.val().length,C=C/100*m*_.val().length;break;case"charnospaces":q=ut(q,l,p)*_.val().replace(/\s/g,"").length,C=ut(C,l,p)*_.val().replace(/\s/g,"").length;break;case"charnofirst":(j=_.val().length-1)<0&&(j=0),q=ut(q,l,p)*j,C=ut(C,l,p)*j;break;case"charnon":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().length-T)<0&&(j=0),q=ut(q,l,p)*j,C=ut(C,l,p)*j;break;case"charpercentnon":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().length-T)<0&&(j=0),q=q/100*m*j,C=C/100*m*j;break;case"charnonnospaces":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().replace(/\s/g,"").length-T)<0&&(j=0),q=ut(q,l,p)*j,C=ut(C,l,p)*j;break;case"charpercentnonnospaces":T=parseInt(_.attr("data-freechars"),10),isNaN(T)&&(T=0),(j=_.val().replace(/\s/g,"").length-T)<0&&(j=0),q=q/100*m*j,C=C/100*m*j;break;case"charpercentnofirst":(j=_.val().length-1)<0&&(j=0),q=q/100*m*j,C=C/100*m*j;break;case"step":v?(q=ut(q,l,p)*_.val(),C=ut(C,l,p)*_.val().tmtoFloat()):(q=ut(q,l,p)*_.val().tmtoFloat(),C=ut(C,l,p)*_.val().tmtoFloat());break;case"stepfee":q*=_.val().tmtoFloat(),C*=_.val().tmtoFloat();break;case"currentstep":v?(q=ut(_.val(),l,p),C=ut(_.val(),l,p)):(q=ut(_.val().tmtoFloat(),l,p),C=ut(_.val().tmtoFloat(),l,p));break;case"currentstepfee":v?(q=_.val(),C=_.val().tmtoFloat()):(q=_.val().tmtoFloat(),C=_.val().tmtoFloat());break;case"intervalstep":v&&(D=parseFloat(t('.tm-range-picker[data-field-id="'+_.attr("id")+'"]').attr("data-min")),q=ut(q,l,p)*(_.val()-D),C=ut(C,l,p)*(_.val()-D));break;case"row":q=ut(q,l,p)*((_.val().match(new RegExp("\n","g"))||[]).length+1),C=ut(C,l,p)*((_.val().match(new RegExp("\n","g"))||[]).length+1)}f.data("tm-quantity")&&(q*=parseFloat(f.data("tm-quantity")),C*=parseFloat(f.data("tm-quantity"))),z=h(q,l,!1,!1,_),N=h(C,l,!1,!1,_),_.data("price",u(q,l,_)),_.data("original_price",u(C,l,_)),i||y(_.closest(".tmcp-field-wrap").find(".tc-price"),q,z,C,N)}else{var E=f.closest(".tmcp-ul-wrap");if(I=E.data("rules"),O=E.data("original-rules"),"object"==typeof I){switch(q=c in I?I[c]:I[0],C="object"==typeof O?c in O?O[c]:O[0]:q,"object"==typeof A?F=c in A?A[c]:"object"==typeof(k=E.data("rulestype"))&&c in k?k[c]:A[0]:"object"==typeof(A=E.data("rulestype"))&&(F=c in A?A[c]:A[0]),"object"==typeof F&&(F=F[0]),f.is(".tmcp-fee-field")&&-1===t.inArray(F,["fee","stepfee","stepfee"])&&(F="fee"),f.is("select")?f.find("option").each(function(){var e=t(this);e.removeData("tm-price-for-late"),e.removeData("islate"),e.removeClass("tm-epo-late-field")}):(_.removeData("tm-price-for-late"),_.removeData("islate"),_.removeClass("tm-epo-late-field")),F){case"":q=ut(q,l,p),C=ut(C,l,p);break;case"fee":q=q,C=C;break;case"percent":q=q/100*m,C=C/100*m;break;case"percentcurrenttotal":ae.push({setter:_,price:q,bundleid:s}),_.data("tm-price-for-late",q).data("islate",1).addClass("tm-epo-late-field"),q=0,C=0;break;case"char":q=ut(q,l,p)*_.val().length,C=ut(C,l,p)*_.val().length;break;case"charpercent":q=q/100*m*_.val().length,C=C/100*m*_.val().length;break;case"step":v?(q=ut(q,l,p)*_.val(),C=ut(C,l,p)*_.val()):(q=ut(q,l,p)*_.val().tmtoFloat(),C=ut(C,l,p)*_.val().tmtoFloat());break;case"stepfee":v?(q*=_.val(),C*=_.val()):(q*=_.val().tmtoFloat(),C*=_.val().tmtoFloat());break;case"currentstep":v?(q=ut(_.val(),l,p),C=ut(_.val(),l,p)):(q=ut(_.val().tmtoFloat(),l,p),C=ut(_.val().tmtoFloat(),l,p));break;case"currentstepfee":v?(q=_.val(),C=_.val()):(q=_.val().tmtoFloat(),C=_.val().tmtoFloat());break;case"intervalstep":v&&(D=parseFloat(t('.tm-range-picker[data-field-id="'+_.attr("id")+'"]').attr("data-min")),q=ut(q,l,p)*(_.val()-D),C=ut(C,l,p)*(_.val()-D))}f.data("tm-quantity")&&(q*=parseFloat(f.data("tm-quantity")),C*=parseFloat(f.data("tm-quantity"))),z=h(q,l,!1,!1,_),N=h(C,l,!1,!1,_),_.data("price",u(q,l,_)),_.data("original_price",u(C,l,_)),i&&y(_.closest(".tmcp-field-wrap").find(".tc-price"),q,z,C,N)}}}function vt(i){ae=[];var r;(r=i||o.find(".cart")).length<=0||r.each(function(i,r){var n='input[name^="variation_id"]';(r=t(r)).find("input.variation_id").length>0&&(n="input.variation_id");var c=!0,d=t(this).closest(et),s=r.find(n).val(),l=!1,p=r.attr("data-product_id");if(p||(p=r.closest(".component_content").attr("data-product_id"))||(p=0),d.length>0){l=!0;var m=mt(pt(d));m&&(c=a(m))}s||(s=0);var f,_;l?(f=o.find(".tm-extra-product-options.tm-cart-"+p),_=o.find(".tm-epo-totals.tm-cart-"+p)):(f=Kt,_=te);var g=_.data("fields-price-rules");if(f.data("tm_rules_init_done")||(_.data("force-quantity")&&r.find(V).val(_.data("force-quantity")),f.find(".tm-quantity .tm-qty").each(function(){var e=t(this);e.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",e.val())}),f.find(".tmcp-attributes, .tmcp-elements").each(function(e,a){var i=(a=t(a)).data("rules"),o=a.data("original-rules");if("object"!=typeof i&&(i={0:"0"}),"object"!=typeof o&&(o={0:"0"}),"object"==typeof i){var r=ut(i[s.tmtoFloat()],_,g),n=h(r,_),d=ut(o[s.tmtoFloat()],_,g),l=h(d,_);a.find(".tmcp-field").each(function(e,a){var i=t(a);c?(i.data("price",u(r,_,i)),i.data("original_price",u(d,_,i)),y(i.closest(".tmcp-field-wrap").find(".tc-price"),r,n,d,l)):(i.data("price",0),i.data("original_price",0),i.closest(".tmcp-field-wrap").find(".amount").empty())})}}),f.data("tm_rules_init_done",1)),!c)return!0;var v;_.length&&(v=gt(_));var b={bto:d,cart:r,current_variation:s,is_bto:l,bundleid:p,totals:_,product_price:v,apply_dpd:g},w=f.find(".tmcp-field,.tmcp-sub-fee-field,.tmcp-fee-field"),k=w.filter(".tcenabled");(!Rt||0==k.length&&w.length>0)&&(w.each(function(){e(t(this))}),Rt=!0),w.filter(".tcenabled").each(function(t,e){ht(e,b)}),w.each(function(e,a){t(a).on("tc_element_epo_rules",function(){ht(a,b)})})})}function bt(e){return t(e).find(".single_variation .price,.bundle_price .price,.bto_item_wrap .price,.component_wrap .price,.composite_wrap .price").not(".tc-price")}function yt(e,a){function i(e,a,i){l.data("current_variation",i);var o,r=l.data("variations"),n=l.data("variations-subscription-sign-up-fee"),c=l.data("variations-subscription-period");r&&i&&i.variation_id&&(n[i.variation_id]?l.data("subscription-sign-up-fee",n[i.variation_id]):l.data("subscription-sign-up-fee","")),r&&i&&i.variation_id&&(c[i.variation_id]?l.data("subscription-period",c[i.variation_id]):l.data("subscription-period","")),r&&i&&i.variation_id&&void 0!==r[i.variation_id]?(o=r[i.variation_id],l.data("price",o),l.removeData("tcprice")):i&&"display_price"in i?(o=i.display_price,l.data("price",o),l.removeData("tcprice")):i&&t(i.price_html).find(".amount:last").length&&(o=(o=(o=(o=t(i.price_html).find(".amount:last").text()).replace(D.currency_format_thousand_sep,"")).replace(D.currency_format_decimal_sep,".")).replace(/[^0-9.]/g,""),o=parseFloat(o),l.data("price",o),l.removeData("tcprice")),s.find(".cpf-product-price").val(o),e.data("tm_variations_did_init",!0),e.data("tm-styled-variations")||p.trigger({type:"tm-epo-update"})}var r,n,s,l,p,m="main";e?(r=pt(e),(m=_t(e))||(m=e.attr("data-item_id")),n=o.find(".tm-extra-product-options.tm-cart-"+m),s=o.find(".tm-totals-form-"+m),l=o.find(".tm-epo-totals.tm-cart-"+m)):(Ut&&0!==Ut.length||(Ut=Kt.is(".tc-shortcode")?o:k(o,"form",c)),e=Ut.parent(),n=Kt,s=Vt,l=te),p=a||Ut,l.data("tm_for_cart",p);var g='input[name^="variation_id"]';p.find("input.variation_id").length>0&&(g="input.variation_id"),l.data("variation_id_selector",p.find(g).not(".wceb_picker_wrap "+g)),l.data("qty_element",p.find(V).last());var b=l.data("type"),w=e.find(".variations_form");w.data("tc_product_id",c),n.find(".tm-epo-reset-variation").off("click.cpfv").on("click.cpfv",function(e){var a=t(this),i=a.attr("data-tm-for-variation").tmjid(),r=a.closest(".cpf-type-variations");a.closest(".cpf_hide_element").find(".tm-epo-variation-element").removeAttr("checked").prop("checked",!1),w.find("#"+i).val("").change(),w.find("#"+i).trigger("focusin"),o.find(".cpf-type-variations").not(r).each(function(e,a){w.find("#"+t(a).find(".tm-epo-variation-element").first().attr("data-tm-for-variation").tmjid()).trigger("focusin")}),t(this).blur(),w.trigger("woocommerce_update_variation_values_tmlogic")}),n.find("input.tm-epo-variation-element,input.tm-epo-variation-element + label").off("mouseup.cpfv").on("mouseup.cpfv",function(e){var a=t(this);a.is("label")&&(a=a.prev("input")),a.attr("disabled")&&w.find(".reset_variations").trigger("click");var i=a.attr("data-tm-for-variation").tmjid();w.find("#"+i).trigger("focusin")}),n.find(".tm-epo-variation-element").off("change.cpfv tm_epo_variation_element_change").on("change.cpfv tm_epo_variation_element_change",function(e){var a=t(this),i=a.attr("data-tm-for-variation").tmjid(),r=a.val(),n=a.closest(".cpf-type-variations"),c=w.find("#"+i);if(e&&e.type&&"tm_epo_variation_element_change"==e.type);else{var d=!1;c.each(function(){if(this.value==r)return d=!0,!1}),d||c.trigger("focusin"),c.val(r).change()}r||c.trigger("focusin"),o.find(".cpf-type-variations").not(n).each(function(e,a){w.find("#"+t(a).find(".tm-epo-variation-element").first().attr("data-tm-for-variation").tmjid()).trigger("focusin")}),t(this).blur(),w.trigger("woocommerce_update_variation_values_tmlogic")}).off("focusin.cpfv").on("focusin.cpfv",function(){if(t(this).is("select")){var e=t(this).attr("data-tm-for-variation").tmjid();w.find("#"+e).trigger("focusin"),w.trigger("woocommerce_update_variation_values_tmlogic")}}),n.find("select.tm-epo-field").off("tm-select-change-html").on("tm-select-change-html",function(){if(!a||!Ut||void 0===Ut.data("per_product_pricing")||Ut.data("per_product_pricing")){var e=t(this),i=h(e.find("option:selected").data("price"),l,!1,!1,e),o=h(e.find("option:selected").data("original_price"),l,!1,!1,e);y(e.closest(".tmcp-field-wrap").find(".tc-price"),e.find("option:selected").data("price"),i,e.find("option:selected").data("original_price"),o);var r=e.closest(".tmcp-field-wrap").find(".tc-tooltip");r.length>0&&r.attr("data-tm-tooltip-html",e.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed");var n=e.closest(".tmcp-field-wrap").find(".tc-inline-description");if(n.length>0&&(e.find("option:selected").attr("data-tm-tooltip-html")?n.html(e.find("option:selected").attr("data-tm-tooltip-html")):n.html("")),("0"==e.find("option:selected").attr("data-hide-amount")||"yes"==D.tm_epo_show_price_inside_option_hidden_even)&&"yes"==D.tm_epo_show_price_inside_option&&e.find("option:selected").attr("data-text")&&("yes"==D.tm_epo_auto_hide_price_if_zero&&!1===t.tmempty(e.find("option:selected").data("price"))||"yes"!=D.tm_epo_auto_hide_price_if_zero&&""!==e.find("option:selected").attr("data-price"))){e.find("option:selected").html(e.find("option:selected").attr("data-text")+" ("+i+")")}""===e.val()?r.addClass("tm-hidden"):r.removeClass("tm-hidden")}}).off("tm-select-change-html-all").on("tm-select-change-html-all",function(){if(!a||!Ut||void 0===Ut.data("per_product_pricing")||Ut.data("per_product_pricing")){var e=t(this),i=e.closest(".tmcp-field-wrap").find(".tc-tooltip");i.length>0&&i.attr("data-tm-tooltip-html",e.find("option:selected").attr("data-tm-tooltip-html")).trigger("tc-tooltip-html-changed");var o=e.closest(".tmcp-field-wrap").find(".tc-inline-description");o.length>0&&(e.find("option:selected").attr("data-tm-tooltip-html")?o.html(e.find("option:selected").attr("data-tm-tooltip-html")):o.html("")),e.find("option").each(function(){var a=t(this);if(!a.val())return!0;ht(e,void 0,a);var i=1;"yes"!=D.tm_epo_multiply_price_inside_option&&(i=e.data("tm-quantity")),i||(i=1);var o=h(a.data("price")/i,l,!1,!1,e);if(("0"==a.attr("data-hide-amount")||"yes"==D.tm_epo_show_price_inside_option_hidden_even)&&"yes"==D.tm_epo_show_price_inside_option&&a.attr("data-text")&&("yes"==D.tm_epo_auto_hide_price_if_zero&&!1===t.tmempty(a.data("price"))||"yes"!=D.tm_epo_auto_hide_price_if_zero&&""!==a.attr("data-price"))){a.html(a.attr("data-text")+" ("+o+")")}}),""===e.val()?i.addClass("tm-hidden"):i.removeClass("tm-hidden")}}).off("tm-select-change").on("tm-select-change",function(){a&&Ut&&void 0!==Ut.data("per_product_pricing")&&!Ut.data("per_product_pricing")||(t(this).trigger("tm-select-change-html"),t(this).trigger("tm-select-change-html-all"),p.trigger({type:"tm-epo-update",norules:1,element:t(this)}))}),n.find("select.tm-epo-field").trigger("tm-select-change-html"),n.off("focus.cpf",".tm-quantity .tm-qty").on("focus.cpf",".tm-quantity .tm-qty",function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(e.val()),o=parseFloat(e.attr("max")),r=parseFloat(e.attr("min")),n=e.attr("step"),c=j(a,!1),d=I(a,!1),s=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(s=!1),c&&d&&s?e.data("tm-prev-value",i):e.data("tm-prev-value",r)}).off("change.cpf",".tm-quantity .tm-qty").on("change.cpf",".tm-quantity .tm-qty",function(){var e=t(this),a=e.closest(".tmcp-field-wrap").find(".tm-epo-field"),i=parseFloat(e.val()),o=parseFloat(e.attr("max")),r=parseFloat(e.attr("min")),n=e.attr("step"),c=j(a,!1),d=I(a,!1),s=!0;i&&""!==i&&"NaN"!==i||(i=0),""!==o&&"NaN"!==o||(o=""),""!==r&&"NaN"!==r||(r=0),"any"!==n&&""!==n&&void 0!==n&&"NaN"!==parseFloat(n)||(n=1),(i<r||i>o)&&(s=!1),c&&d&&s?(a.data("tm-quantity",e.val()).trigger("change.cpf"),a.trigger("tm-select-change-html-all")):e.data("tm-prev-value")?e.val(e.data("tm-prev-value")):e.val(r)}).off("tmaddquantity",".tm-quantity .tm-qty").on("tmaddquantity",".tm-quantity .tm-qty",function(){var e=t(this);e.closest(".tmcp-field-wrap").find(".tm-epo-field").data("tm-quantity",e.val())}),n.find(".tm-quantity .tm-qty").trigger("change.cpf"),n.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").each(function(){var e=t(this),a=t.fn.tm_template(st.tc_chars_remanining,{maxlength:e.attr("maxlength"),characters_remaining:D.i18n_characters_remaining});e.after(t(a))}),n.find("input.tm-epo-field[maxlength],textarea.tm-epo-field[maxlength]").off("change.tc_maxlen keyup.tc_maxlen").on("change.tc_maxlen keyup.tc_maxlen",function(e){var a=t(this);a.closest(".tmcp-field-wrap").find(".tc-chars-remanining").html(parseInt(a.attr("maxlength"),10)-parseInt(a.val().length,10))}),n.find(".tm-epo-field").off("tm_trigger_product_image").on("tm_trigger_product_image",function(e){var a=t(this),i=t(this);if(i.is(".tm-product-image:checkbox, .tm-product-image:radio, select.tm-product-image")){var r=i.closest(".tmcp-field-wrap").find("label img"),c=i.closest(".cpf-section").is(".tm-epo-variation-section");if(i.is("select.tm-product-image")&&(a=i.children("option:selected")),t(r).length>0||c&&void 0!==a.attr("data-image")||void 0!==a.attr("data-image")&&""!==a.attr("data-image")||void 0!==a.attr("data-imagep")&&""!==a.attr("data-imagep"))if(i.is(":checked")||i.is("select.tm-product-image")&&""!==i.val()&&(""!==i.find("option:selected").attr("data-rules")||i.is(".tm-epo-variation-element"))){var d=t(r).first().attr("data-original");d||c||(d=t(r).first().attr("src")),d||(d=a.attr("data-image")),a.attr("data-imagep")&&(d=a.attr("data-imagep")),d?o.trigger("tm_change_product_image",{src:d,element:i,element_current:a,main_product:o,epo_holder:n}):o.trigger("tm_change_product_image",{src:!1,element:i,element_current:a,main_product:o,epo_holder:n})}else o.trigger("tm_restore_product_image",{element:i,element_current:a,main_product:o,epo_holder:n});else o.trigger("tm_restore_product_image",{element:i,element_current:a,main_product:o,epo_holder:n})}else o.trigger("tm_attempt_product_image",{element:i,element_current:a,main_product:o,epo_holder:n})}),n.find(".tm-quantity").off("showhide.cpfcustom").on("showhide.cpfcustom",function(e){var a=t(this),i=a.closest(".tmcp-field-wrap").find(".tm-epo-field"),o=!1;if(!i.is(".tm-epo-variation-element")){i.is("select")?""!==i.val()&&(o=!0):i.is(":checkbox")?i.is(":checked")&&(o=!0):i.is(":radio")?i.is(":checked")&&(o=!0,"yes"==D.tm_epo_show_only_active_quantities&&i.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio").each(function(){t(this).closest(".tmcp-field-wrap").find(".tm-quantity").hide()})):i.val()&&(o=!0);var r=a.find(".tm-qty"),n=r.val(),c=r.attr("min")||"";o?("yes"==D.tm_epo_show_only_active_quantities&&a.show(),r.removeClass("ignore").prop("disabled",!1)):("yes"==D.tm_epo_show_only_active_quantities&&(a.hide(),n||r.val(c)),r.addClass("ignore").prop("disabled",!0)),setTimeout(function(){a.closest(".tcowl-carousel").trigger("refresh.owl.carousel")},200)}}),n.find(".tm-quantity").trigger("showhide.cpfcustom"),n.find(".tm-epo-field").off("change.cpfcustom").on("change.cpfcustom",function(e){t(this).closest(".tmcp-field-wrap").find(".tm-quantity").trigger("showhide.cpfcustom")}),n.find(".tm-epo-field").filter(":checkbox:checked, :radio:checked").not(".tm-epo-variation-element").each(function(){t(this).closest(".tmcp-field-wrap").addClass("tc-active")}),n.find(".tm-epo-field").off("change.cpf").on("change.cpf",function(e){var a=t(this),i=a.closest(".tmcp-field-wrap"),r=a.closest(".tmcp-ul-wrap");if(!a.is(".tm-epo-variation-element")){if(a.is(":checkbox, :radio")&&(a.is(":radio")&&r.find(".tmcp-field-wrap").removeClass("tc-active"),a.is(":checked")?i.addClass("tc-active"):i.removeClass("tc-active")),a.is(".use_images:checkbox, .use_images:radio")&&a.attr("data-imagec")){var c=i.find(".radio_image,.checkbox_image").first();c.length>0&&(a.is(":checked")?c.prop("src",a.attr("data-imagec")):c.prop("src",a.attr("data-image")))}a.is(".use_images:radio")&&a.closest(".cpf-type-radio").find(".use_images:radio").not(a).each(function(){var e=t(this);e.closest(".tmcp-field-wrap").find(".radio_image").first().prop("src",e.attr("data-image"))}),a.is(".tmcp-range")&&a.trigger("change.cpflogic"),a.is("select")?a.trigger("tm-select-change"):(a.is(".tmcp-radio")&&a.closest(".cpf-type-radio").find(".tm-quantity .tm-qty").each(function(){t(this).closest("li.tmcp-field-wrap").find(".tmcp-radio").is(":checked")?t(this).removeAttr("disabled"):t(this).attr("disabled","disabled")}),p.trigger({type:"tm-epo-update",norules:1,element:a}))}a.trigger("tm_trigger_product_image"),o.trigger("tm_attempt_product_image",{element:a,main_product:o,epo_holder:n})}),n.find(".tm-has-clearbutton .tm-epo-field").off("change.cpfclearbutton").on("change.cpfclearbutton cpfclearbutton",function(e){var a=t(this),i=a.closest(".cpf_hide_element").find(".tm-epo-reset-radio").removeClass("tm-hidden");a.closest(".tmcp-field-wrap").append(i)}),n.find(".tm-has-clearbutton .tm-epo-field:checked").trigger("cpfclearbutton"),n.find(".tm-epo-reset-radio").off("click.cpf").on("click.cpf",function(){var e=t(this),a=e.closest(".cpf_hide_element").find(".tm-epo-field.tmcp-radio:checked");a.length&&(a.removeAttr("checked").prop("checked",!1),a.trigger("change.cpf"),a.trigger("change.cpflogic")),e.addClass("tm-hidden")}),n.find(".tm-epo-field.tmcp-textarea,.tm-epo-field.tmcp-textfield").off("keyup.cpf").on("keyup.cpf",function(){t(this).trigger("change.cpf")}),n.find(".tm-epo-field.tmcp-upload").off("change.cpfv").on("change.cpfv",function(){var e=t(this),a=e.closest("label"),i=e.closest(".tmcp-field-wrap"),o=i.find(".cpf-upload-container"),r=i.find(".tm-filename"),c=e.val().replace("C:\\fakepath\\","");o.length&&r.length<=0&&(r=t('<span class="tm-filename"></span>'),a.after(r)),r.html(c);var d=n.data("num_uploads");d||(d=[]),d[e.closest(".cpf_hide_element").attr("data-uniqid")]=c,n.data("num_uploads",d),e.next(".tmcp-upload-hidden").remove()}),e.find(V).last().off("change.cpf").on("change.cpf",function(){p.trigger("tm-epo-check-dpd"),t(this).data("tm-prev-value",t(this).val()),p.trigger({type:"tm-epo-update",norules:2})}).data("tm-prev-value",e.find(V).last().val()),p.on("woocommerce-product-addons-update",function(e){var a=t(this).find("#bkap_price_charged").val();s.find(".cpf-product-price").val(a),l.data("price",a),p.trigger({type:"tm-epo-update"})}),e.find(".total_price").off("wc-measurement-price-calculator-total-price-change.cpf").on("wc-measurement-price-calculator-total-price-change.cpf",function(t,e,a){var i="1"!==l.attr("data-prices-include-tax")&&"incl"===l.attr("data-tax-display-mode"),o="1"===l.attr("data-prices-include-tax")&&"incl"!==l.attr("data-tax-display-mode");i&&!o?a=_(a,l,null,i):!i&&o&&(a=f(a,l,null,o)),s.find(".cpf-product-price").val(a),l.data("price",a),p.trigger({type:"tm-epo-update"})}),e.find(".product_price").off("wc-measurement-price-calculator-product-price-change.cpf dwc-measurement-price-calculator-update.cpf").on("wc-measurement-price-calculator-product-price-change.cpf dwc-measurement-price-calculator-update.cpf",function(t,e,a){var i="1"!==l.attr("data-prices-include-tax")&&"incl"===l.attr("data-tax-display-mode"),o="1"===l.attr("data-prices-include-tax")&&"incl"!==l.attr("data-tax-display-mode");a=i&&!o?_(a,l,null,i):!i&&o?f(a,l,null,o):parseFloat(a),s.find(".cpf-product-price").val(a),l.data("price",a),p.trigger({type:"tm-epo-update"})}),t(".product_price, .total_price").length>0&&t("form.cart").trigger("wc-measurement-price-calculator-update"),p.off("woocommerce-nyp-update.cpf").on("woocommerce-nyp-update.cpf",function(){var t=p.find(".nyp"),e=t.data("price");t.length>0&&(s.find(".cpf-product-price").val(e),l.data("price",e),p.trigger({type:"tm-epo-update"}))}),at.off("woocommerce-nyp-updated.cpf").on("woocommerce-nyp-updated.cpf",function(){p.trigger("woocommerce-nyp-update.cpf")}),p.trigger("woocommerce-nyp-update.cpf"),t("#fancy-product-designer-"+l.parent().attr("data-product-id")).off("priceChange.cpf").on("priceChange.cpf",function(t,e,a){var i=a;l.data("fpdprice"),l.data("fpdprice",parseFloat(i)),void 0===l.data("tcprice")?l.data("tcprice",parseFloat(l.data("price"))):l.data("price",parseFloat(l.data("tcprice"))),i=parseFloat(l.data("price"))+parseFloat(i),l.parent().find(".cpf-product-price").val(i),l.data("price",i),p.trigger({type:"tm-epo-update"})}),p.off("tm-epo-check-dpd").on("tm-epo-check-dpd",function(e){var a=l;if(1==a.data("fields-price-rules")){var i=a.data("product-price-rules"),o=a.data("tm_for_cart");if(i&&o){var r='input[name^="variation_id"]';o.find("input.variation_id").length>0&&(r="input.variation_id");var n=o.find(V).last(),c=parseFloat(n.val()),d=parseFloat(n.data("tm-prev-value")),s=o.find(r).val();s||(s=0),isNaN(c)&&(a.attr("data-is-sold-individually")||0===n.length)&&(c=1),(i[s]&&0!==s.tmtoFloat()||i[0])&&(i[s]||(s=0),t(i[s.tmtoFloat()]).each(function(t,e){var a=parseFloat(e.min),i=parseFloat(e.max);(isNaN(i)&&a<=c||!isNaN(i)&&a<=c&&c<=i)&&(a<=d&&d<=i||vt(o))}))}}}),p.off("tm-epo-update").on("tm-epo-update",function(e){e.stopImmediatePropagation();var i,c=t(this),d=l.attr("data-tm-epo-final-total-box"),s=c.attr("data-product_id"),m=c.find("input.variation_id").length>0?"input.variation_id":'input[name^="variation_id"]',f=0,_=0,g=!1,b=0,y=l.data("type"),w=!1,k=c.find(V).last(),x=parseFloat(k.val()),F=1,q=p.find(".cpf-bto-price"),C=!0,z=c.find(m).val(),j=l.attr("data-price-override"),I=[];if(s||(s=c.closest(".component_content").attr("data-product_id"))||(s=0),z||(z=0),a&&l.addClass("cpf-bto-totals"),e.norules?(1==e.norules&&ht(e.element),ae=[],n.find(".tm-epo-late-field").each(function(){var e=t(this),a=e.data("tm-price-for-late");e.data("price",0),ae.push({setter:e,price:a,bundleid:s})})):vt(c),isNaN(x)&&(l.attr("data-is-sold-individually")||0===k.length)&&(x=1),"1"==D.wc_measurement_qty_multiplier&&p.find("#_measurement_needed").length>0&&(F=p.find("#_measurement_needed").val()),l.length?f=gt(l):q.length>0&&(f=q.val()),_=f,a&&c.find(".cpf-bto-price").length>0?(!0,f=parseFloat(c.find(".cpf-bto-price").val()),C=c.find(".cpf-bto-price").data("per_product_pricing")):!a&&o.find(".cpf-bto-price").length>0&&(i=1,g=[],o.find(".cpf-bto-price").each(function(e,a){if(!isNaN(parseFloat(t(this).val()))){var i=t(this).closest(".cart").find(V);i=i.length>0?parseFloat(i.val()):1;var o=t(this).parent().find(".cpf-bto-totals").attr("data-is-sold-individually"),r=t(this).parent().find(".cpf-bto-optionsprice").val();r=isNaN(parseFloat(r))?0:parseFloat(r),f=parseFloat(f)+parseFloat(t(this).val()*i),g.push([t(this).val(),r,i,o])}}),o.find(".cpf-bto-optionsprice").each(function(e,a){isNaN(parseFloat(t(this).val()))||(f=parseFloat(f)+parseFloat(t(this).val()))})),!1!==f){(a||Zt&&"woocommerce_before_add_to_cart_button"==D.tm_epo_totals_box_placement)&&("variable"!=y&&"variable-subscription"!=y||l.data("moved_inside")||l.data("moved_inside",1)),Zt&&"woocommerce_before_add_to_cart_button"==D.tm_epo_totals_box_placement&&("bto"!=y&&"composite"!=y||l.data("moved_inside")||(c.find(".bundle_price,.composite_price").after(l),l.data("moved_inside",1))),n.find(".tmcp-field").filter(".tcenabled").each(function(e,a){var i,o=t(this),r=o.closest(".cpf_hide_element"),n=o.closest(".tmcp-field-wrap"),c=r.attr("data-fblabelshow"),d=r.attr("data-fbvalueshow"),s=""===c?r.find(".tm-epo-field-label").html():"",l="",p=n.find(".tm-qty").val();if(void 0===p&&(p=""),o.is(":checkbox, :radio, :input")){var m=0;if(o.is(".tmcp-checkbox, .tmcp-radio"))if(o.is(":checked")){m=o.data("price"),w=!0,o.data("isset",1);var f=o.closest("li.tmcp-field-wrap"),_=f.find(".checkbox_image,.radio_image");l="";var u=o.closest("li.tmcp-field-wrap").find(".tm-label");u.length&&(l=u.html()),_.length&&(l+=_.clone().addClass("tc-img-floating")[0].outerHTML),o.is(".use_images")&&(l=f.find(".tc-label").first().html(),_.length&&(l=l+'<img class="tc-img-floating" src="'+o.attr("data-image")+'"')),I.push({title:s,value:l,price:m,quantity:p,label_show:c,value_show:d})}else o.data("isset",0);else if(o.is(".tmcp-select")){m=o.find("option:selected").data("price");var g=o.children("option:selected");""===g.val()&&""===g.attr("data-rulestype")||(w=!0),o.find("option").data("isset",0),o.find("option:selected").data("isset",1),""===o.find("option:selected").val()&&""===o.find("option:selected").attr("data-rulestype")||(l=o.find("option:selected").attr("data-text"),I.push({title:s,value:l,price:m,quantity:p,label_show:c,value_show:d}))}else if(i=o.val(),o.is('[type="file"]')&&(i=i.replace("C:\\fakepath\\","")),i)if(o.is(".tmcp-range")&&"0"==o.val())o.data("isset",0);else{if(m=o.data("price"),w=!0,o.data("isset",1),l=o.val(),o.is(".tmcp-range")){var h=t(".tm-range-picker[data-field-id='"+o.attr("id")+"']").attr("data-step").split(".");h=1==h.length?0:h[1].length,l=T.formatNumber(l,{decimal:Z,thousand:H,precision:h})}I.push({title:s,value:l,price:m,quantity:p,label_show:c,value_show:d})}else o.data("isset",0);m||(m=0),b=parseFloat(b)+parseFloat(m)}}),l.data("tm-floating-box-data",I);var A=0,O=0;n.find(".tmcp-sub-fee-field,.tmcp-fee-field").filter(".tcenabled").each(function(){var e=t(this);if(e.is(":checkbox, :radio, :input")){var a=0;if(e.is(".tmcp-checkbox, .tmcp-radio"))e.is(":checked")?(a=e.data("price"),w=!0,e.data("isset",1)):e.data("isset",0);else if(e.is(".tmcp-select")){a=e.find("option:selected").data("price");var i=e.children("option:selected");""===i.val()&&""===i.attr("data-rulestype")||(w=!0),e.find("option").data("isset",0),e.find("option:selected").data("isset",1)}else e.val()?(a=e.data("price"),w=!0,e.data("isset",1)):e.data("isset",0);a||(a=0),e.is(".tmcp-sub-fee-field")&&(A=parseFloat(A)+parseFloat(a)),e.is(".tmcp-fee-field")&&(O=parseFloat(O)+parseFloat(a))}}),Bt=w,N(),O>0&&(w=!0),"bto"!=l.attr("data-type")&&"composite"!=l.attr("data-type")||"show"===te.data("btois")&&(w=!0),i&&(w=!0),a&&!C&&(w=!1),"pxq"!=d&&"hide"!=d&&"normal"!=d&&"options"!=d&&"final"!=d&&"hideoptionsifzero"!=d||(w=!0),x>1&&(w=!0),"variable"!=y&&"variable-subscription"!=y||z.tmtoFloat()||(w=!1);var S=b;f=u(f,l);var E=Pt(parseFloat(f)+parseFloat(S),s,l);"disable"==d&&(w=!1),"disable_change"!=d&&"yes"!=D.tm_epo_change_variation_price&&"yes"!=D.tm_epo_change_original_price||(w=!0),"yes"==D.tm_epo_total_price_as_unit_price&&(x=1);var L,M,P,R={},U=0,W=parseFloat(f*x);if(b=parseFloat(b*x),D.extra_fee&&(U=parseFloat(D.extra_fee),isNaN(U)&&(U=0)),g){f=u(_,l),W=W=parseFloat(f*x);for(var X=0;X<g.length;X++){var $=g[X],B=0;$[3]?(B=u(parseFloat($[0])+parseFloat($[1]),l),f+=B,W+=parseFloat(B)):(B=+u(parseFloat($[0])*parseFloat($[2])+parseFloat($[1]),l),f+=B,W+=parseFloat(B*x))}}if(S+=E,b=parseFloat(S*x*F),"1"==j&&parseFloat(b)>0&&(f=_=0,W=parseFloat(f*x)),void 0!==l.data("tc_is_bookings")){var G=l.data("bookings_form"),J=0,Y=!1;G.length&&("1"==D.wc_booking_person_qty_multiplier&&G.find('[id^="wc_bookings_field_persons"]').each(function(){J+=parseFloat(t(this).val()),Y=!0}),"1"==D.wc_booking_block_qty_multiplier&&G.find("#wc_bookings_field_duration").length&&(J+=parseFloat(G.find("#wc_bookings_field_duration").val()),Y=!0)),Y&&(b*=J)}b=parseFloat(t.tc_apply_filters("tc_adjust_total",b,l)),O=parseFloat(t.tc_apply_filters("tc_adjust_totals_fee",O,l));var Q=b+O;L=v(b,l,!0,!0),M=v(O,l,!0,!0);var K=W;W=parseFloat(W+Q+U),P=v(W=t.tc_apply_filters("tc_adjust_product_total_price",W,Q,U,b,O,l),l,!0,!0);var tt=v(parseFloat(f+S),l,!0,!0);"yes"===D.tm_epo_fees_on_unit_price&&(tt=v(parseFloat(f+parseFloat(S)+parseFloat(parseFloat(O)/x)),l,!0,!0));var et,at=!1,it=!1,dt="",pt=!1,mt=!1,ft="",_t=!1;if("pxq"==d||"final"==d||"hide"==d||0===Q&&"hideoptionsifzero"==d||(0===b&&"hideoptionsifzero"==d&&"options"!=d||(at=!0),0!==O&&(it=!0)),U&&(pt=!0,dt=v(U,l,!0,!0)),P&&"options"!=d&&(mt=!0),l.data("is-subscription")){var ut=parseFloat(l.data("subscription-sign-up-fee"));isNaN(ut)&&(ut=0);var yt=ut+parseFloat(A);yt&&(_t=!0,ft=v(yt,l,!0,!0))}if((!0===e.product_false||void 0!==l.data("bookings_form_init")&&0===l.data("bookings_form_init"))&&(P="-"),R={options_price_per_unit:S,qty:x,product_total_price:W,product_total_price_without_options:K,cart_fee_options_total_price:O,options_total_price:b,total_plus_fee:Q,unit_price:D.i18n_unit_price,formatted_unit_price:tt,show_unit_price:"yes"===D.tm_epo_show_unit_price,options_total:D.i18n_options_total,fees_total:D.i18n_fees_total,formatted_options_total:L,formatted_fees_total:M,show_options_total:at,show_fees_total:it,extra_fee:D.i18n_extra_fee,formatted_extra_fee:dt,show_extra_fee:pt,final_total:D.i18n_final_total,formatted_final_total:P,show_final_total:mt,sign_up_fee:D.i18n_sign_up_fee,formatted_subscription_fee_total:ft,show_sign_up_fee:_t},R=t.tc_apply_filters("tc_adjust_tc_totals_ob",R,{epo_object:ee,tm_set_price:h,tm_set_price_totals:v,product_total_price:W,product_price:f,qty:x}),l.data("tc_totals_ob",R),et=t.fn.tm_template(st.tc_final_totals,R),l.data("tm-html",et),l.data("tc_totals_ob",R),w&&x>0){if("disable_change"!=d&&"yes"!=D.tm_epo_change_variation_price||(!0===t.tc_apply_filters("hide_native_price",!0)&&"disable"!=d&&"disable_change"!=d?bt(c).hide():bt(c).show()),"disable"==d||"disable_change"==d||"hideifoptionsiszero"==d&&0===Q||"hide"==d?(et="",l.html(et).hide(),Vt.hide()):(l.html(et).show(),Vt.show(),ct.trigger("tc-totals-container",{epo:R,totals_holder:l,data:{epo_object:ee,tm_set_price:h,tm_set_price_totals:v,product_total_price:W,product_price:f,qty:x},tm_epo_js:D})),P&&W>=0){var wt=bt(c),kt=T.formatMoney(W,{symbol:"",decimal:Z,thousand:H,precision:D.currency_format_num_decimals,format:""});if(D.customer_price_format){var xt=D.customer_price_format_wrap_start+D.customer_price_format+D.customer_price_format_wrap_end;kt=(xt=xt.replace("__PRICE__",kt)).replace("__CODE__",D.current_currency)}"disable_change"!=d&&"yes"!=D.tm_epo_change_variation_price||wt.html(t.fn.tm_template(st.tc_formatted_price,{price:kt})).show(),"disable_change"!=d&&"yes"!=D.tm_epo_change_original_price||(s&&a&&c.find(".cpf-bto-price").length>0&&Q>0?t("#component_"+s).find(rt).html(t.fn.tm_template(st.tc_formatted_price,{price:kt})).show():!a&&o.find(".cpf-bto-price").length>0&&Q>0?c.find(ot).html(t.fn.tm_template(st.tc_formatted_price,{price:kt})).show():W>0?t(nt).html(t.fn.tm_template(st.tc_formatted_price,{price:kt})).show():y&&"composite"!==y&&t(nt).html(D.current_free_text))}a?(C&&c.find(".cpf-bto-optionsprice").val(parseFloat(b)),Ut.trigger({type:"tm-epo-update",norules:1})):(te.data("is_active",!0),lt())}else bt(c).show().each(function(){t(this).data("tm-original-html")?t(this).html(t(this).data("tm-original-html")):t(this).data("tm-original-html",t(this).html())}),0===_&&"yes"==D.tm_epo_remove_free_price_label&&bt(c).hide(),l.empty().hide(),a&&(C&&c.find(".cpf-bto-optionsprice").val(parseFloat(b*x)),Ut.trigger({type:"tm-epo-update",norules:1})),lt();r&&o.find(".bto_form_"+r+",#composite_form_"+r+",#composite_data_"+r).trigger("cpf_bto_review"),Ut.trigger("tm-epo-after-update"),ct.trigger("tc-epo-after-update",{epo:R,totals_holder:l,data:{epo_object:ee,tm_set_price:h,tm_set_price_totals:v,product_total_price:W,product_price:f,qty:x},tm_epo_js:D})}else l.empty()}),e.find(".variations_form").off("found_variation.tmepo tm_fix_stock",".single_variation_wrap").on("found_variation.tmepo tm_fix_stock",".single_variation_wrap",function(a,i){C(t(this),e)}),"variable"!=b&&"variable-subscription"!=b||(e.find(".variations_form").off("found_variation.tmepo").on("found_variation.tmepo",function(a,o){var r=t(this);i(r,0,o),C(r,e),r.trigger("wc-measurement-price-calculator-update")}).off("hide_variation.tmepo").on("hide_variation.tmepo",function(t,e){p.trigger({type:"tm-epo-update",norules:2})}).trigger("check_variations"),ct.on("tm-do-epo-update",function(){p.trigger({type:"tm-epo-update"})})),e.find(".variations select").off("blur.cpf").on("blur.cpf",function(){o.find(".variations_form").data("tm_variations_did_init",!0)}),Mt(e,m,o,n),wt(),ct.trigger("tm-epo-init-events",{epo:{epo_id:d,form:x(),current_cart:p,cart_container:e,epo_holder:n,totals_holder_container:s,totals_holder:l,main_cart:Ut,main_epo_inside_form:Zt,product_id_selector:Yt,epo_id_selector:Qt,product_id:c,this_epo_container:Kt,this_totals_container:Vt,this_epo_totals_container:te}}),ct.trigger("epo_options_before_visible"),"yes"===D.tm_epo_progressive_display?setTimeout(function(){n.css("opacity",0).addClass("tc-show").animate({opacity:1},J,"easeOutExpo",function(){ct.trigger("epo_options_visible"),ct.trigger("tmlazy")})},G):(n.addClass("tc-show"),ct.trigger("epo_options_visible"),ct.trigger("tmlazy"))}function wt(){var e=[".tm-variation-ul-color",".tm-variation-ul-image","ul.use_images_container","ul.use_colors_container"];t.each(e,function(e,a){o.find(a).each(function(e,a){t(a).each(function(e,a){var i=(a=t(a)).find(".tmhexcolorimage-li-nowh");if(i.length){var o,r=a.closest(".cpf-section"),n=i.first();r.length&&r.find(".tm-collapse-wrap.closed").length?(r.find(".tm-collapse-wrap").removeClass("closed").show().css({position:"absolute",visibility:"hidden"}),n.find("label").css("width","100%"),n.find(".tmhexcolorimage").css("width","100%"),n.height(),o=n.width(),r.find(".tm-collapse-wrap").addClass("closed").hide().css({position:"",visibility:""})):(n.height(),o=n.width()),i.find(".tmhexcolorimage").css({"min-width":o+"px","min-height":o+"px"})}})})})}function kt(){if(!o.data("tm-composite-setup")){var e=te;o.data("tm-composite-setup",1),t(et).find(".cart").append('<input type="hidden" class="tm-post-support addon">'),o.find(".tm-post-support.addon").on("change",function(e){t(this).closest(et).trigger("wc-composite-item-updated.cpf")}),t(et).off("found_variation.cpf").on("found_variation.cpf",function(i,r){var n,c=t(this),d=pt(c),s=mt(d),l=_t(c);s&&(o.find(".bto_form,#composite_form_"+d+",#composite_data_"+d).find(ft(l)).removeData("cpf_review_price"),o.find(".bto_form,#composite_form_"+d+",#composite_data_"+d).find(ft(l)).find(".amount").empty(),!0===a(s)&&(n=parseFloat(r.price)),c.find(".cpf-bto-price").data("per_product_pricing",a(s)),c.find(".cpf-bto-price").val(n),Ut.data("per_product_pricing",a(s)),c.find(".cart").trigger({type:"tm-epo-update",norules:1}),setTimeout(function(){Ut.trigger({type:"tm-epo-update",norules:1})},100),e.data("btois","none"))}).off("wc-composite-component-loaded.cpf").on("wc-composite-component-loaded.cpf",function(){t(this).trigger("wc-composite-item-updated.cpf")}).off("wc-composite-item-updated.cpf").on("wc-composite-item-updated.cpf",function(){Ft(),o.find(".tm-collapse").tmtoggle();var e=t(this),r=e.find(".tm-extra-product-options");l(e),s(e),qt(e),Ct(),p(r),m(r),i(r);var n,c=pt(e),d=mt(c),f=_t(e);o.find(".bto_form,#composite_form_"+c+",#composite_data_"+c).find(ft(f)).removeData("cpf_review_price"),o.find(".bto_form,#composite_form_"+c+",#composite_data_"+c).find(ft(f)).find(".amount").empty(),d&&(!0===a(d)&&(n=parseFloat(e.find(".bto_item_data,.component_data").data("price"))),e.find(".cpf-bto-price").data("per_product_pricing",a(d)),e.find(".cpf-bto-price").val(n),Ut.data("per_product_pricing",a(d)),t.tm_tooltip(e.find(".tm-tooltip")),yt(e,e.find(".cart")),e.find(".cart").trigger({type:"tm-epo-update",composite_item:e}),Ut.trigger({type:"tm-epo-update",norules:1}),C(e.find(".cart"),e))}).off("change.cpfbto",".bto_item_options select,.component_options_select").on("change.cpfbto",".bto_item_options select,.component_options_select",function(a){var i=t(this),r=pt(i),n=_t(i);o.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(ft(n)).removeData("cpf_review_price"),o.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(ft(n)).find(".amount").empty(),""===i.val()?(e.data("passed",!1),e.data("btois","none")):Ut.trigger({type:"tm-epo-update",norules:1})}).off("woocommerce_variation_select_change.cpf").on("woocommerce_variation_select_change.cpf",function(a){var i=t(this),r=pt(i),n=_t(i);o.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(ft(n)).removeData("cpf_review_price"),o.find(".bto_form,#composite_form_"+r+",#composite_data_"+r).find(ft(n)).find(".amount").empty(),""===i.find(".variations .attribute-options select").val()&&(e.data("passed",!1),e.data("btois","none"))}),o.find(".bundle_wrap").off("show_bundle.cpf,wc-composite-show-add-to-cart.cpf").on("show_bundle.cpf,wc-composite-show-add-to-cart.cpf",function(){xt(t(this).closest(".cart").attr("data-container-id"))}),o.find(".composite_data .composite_wrap").off("wc-composite-show-add-to-cart.cpf").on("wc-composite-show-add-to-cart.cpf",function(){var e=t(this).closest(".composite_form").find(".composite_data").data("container_id");xt(e),o.find("#composite_data_"+e).trigger("cpf_bto_review")}),o.find(".bto_form,.composite_form").off("woocommerce-product-addons-update.cpf cpf_bto_review").on("woocommerce-product-addons-update.cpf cpf_bto_review",function(){var e=t(this);e.parent().find(et).each(function(){var a,i=t(this),o=_t(i),r=e.find(ft(o)),n=t(".widget_composite_summary_elements").find(".summary_element.summary_element_"+o),c=i.find(".cpf-bto-optionsprice").val(),d=e.find(".tc-epo-totals.tm-cart-"+o);r.length&&(r.data("cpf_review_price")?a=T.unformat(r.data("cpf_review_price"),Z):r.find(".amount").length&&(a=T.unformat(r.find(".amount").html(),D.currency_format_decimal_sep),r.data("cpf_review_price",a)),c&&d.data("tc_totals_ob")&&(r.find(".amount").html(d.data("tc_totals_ob").formatted_final_total),n.find(".amount").html(d.data("tc_totals_ob").formatted_final_total)))})}),t(et).trigger("wc-composite-component-loaded.cpf")}}function xt(e){var a=!0,i=te;o.find(".bto_form_"+e+",#composite_form_"+e+",#composite_data_"+e).parent().find(et).each(function(){var i=t(this),r=_t(i),n=o.find(".bto_form_"+e+" .bundle_wrap .bundle_button .form_data_"+r+",#composite_form_"+e+" .bundle_wrap .bundle_button .form_data_"+r+",#composite_data_"+e+" .composite_wrap .composite_button .form_data_"+r),c=n.find("input.product_input").val(),d=n.find("input.quantity_input").val(),s=n.find("input.variation_input").val(),l=i.find(".bto_item_data,.component_data").data("product_type");void 0===l||""===l||""===c?a=!1:"none"!=l&&""===d?a=!1:"variable"==l&&void 0===s&&(a=!1)}),a?i.data("btois","show"):i.data("btois","none"),Ut.trigger({type:"tm-epo-update",norules:1})}function Ft(){if("yes"!=D.tm_epo_no_lazy_load){var e;(e=B?t(B).find("img.tmlazy"):t(".tc-extra-product-options img.tmlazy")).lazyLoadXT(),e.on("lazyshow",function(){t(window).trigger("lazyLoadXToncomplete")})}}function qt(e){e||(e=Kt),e.find(".tm-owl-slider-section").each(function(){var e=t(this),a=e.css("display");e.find(".tm-slide").first().before('<div class="tm-owl-slider"></div>'),e.find(".tm-slide").appendTo(e.find(".tm-owl-slider")),a=(e=e.find(".tm-owl-slider")).css("display"),e.show().addClass("tcowl-carousel").tmowlCarousel({dots:!1,nav:!0,items:1,autoHeight:!0,mouseDrag:!1,touchDrag:!0,navText:[D.i18n_prev_text,D.i18n_next_text],navClass:["owl-prev button","owl-next button"],navElement:"a",loop:!1,navRewind:!1}),e.css("display",a)})}function Ct(e){e||(e=Kt.find(".tm-color-picker")),t(e).length&&(t(e).spectrum({showButtons:!0,clickoutFiresChange:!1,chooseText:D.closeText,cancelText:D.i18n_cancel}),t(e).spectrum("enable"))}function zt(e){var a=e.closest(".tmcp-field-wrap").find("label img"),i=t(a).first().attr("data-original");return e.is("select.tm-product-image")&&(e=e.children("option:selected")),i||(i=t(a).first().attr("src")),i||(i=e.attr("data-image")),e.attr("data-imagep")&&(i=e.attr("data-imagep")),!!i}function Nt(e,a){var i=!1,o=t(".images"),r=t(".yith_magnifier_zoom"),n=o.find(".yith_magnifier_zoom").first().attr("href"),c=o.find(".yith_magnifier_zoom img").first().attr("src");window.yith_magnifier_options&&o.data("yith_magnifier")&&(i=!0);var d=!1,s=t(".iosSlider.product-gallery-slider,.iosSlider.product-slider");s.length&&s.iosSlider&&(d=!0);var l=!1,p=a.find(".images .fusion-flexslider");p.length&&p.flexslider&&(l=!0);var m=e.data("elevateZoom")||!1,f=a.find("div.product-images .woocommerce-main-image"),_=!1,u=a.find(".images .easyzoom");u.length&&u.filter(".images .easyzoom.first").data("easyZoom")&&(u=u.filter(".images .easyzoom.first").data("easyZoom"),_=!0);var g=!1,h=a.find(".images .easyzoom");_||(h=a.find(".images .has-image-zoom .slide")).length&&h.filter(".images .has-image-zoom .slide.first").data("easyZoom")&&(h=h.filter(".images .has-image-zoom .slide.first").data("easyZoom"),g=!0),ct.on("load",function(){setTimeout(function(){u.length&&u.data("easyZoom")&&(u=u.data("easyZoom"),_=!0),h.length&&h.data("easyZoom")&&(h=h.data("easyZoom"),g=!0)},150)});var v=!1,b=a.find(".woocommerce-product-gallery"),y=!1,w=window.wc_single_product_params;if(b.length&&b.data("flexslider")&&(v=!0,t.isFunction(t.fn.zoom)&&w&&w.zoom_enabled)){var k=e.closest(".woocommerce-product-gallery__image");k.length>0&&e.width()>t(".woocommerce-product-gallery").width()&&(y=k,e.data.wc27_zoom_target=y)}var x=t.isFunction(t.fn.zoom)&&w&&w.zoom_enabled,F=!1;return!v&&x&&(F=a.find(".woocommerce-product-gallery__image")),{is_yith_wcmg:{type:"yith",enabled:i,element:o,yith_wcmg_zoom:r,_yith_wcmg_default_zoom:n,yith_wcmg_default_image:c},is_iosSlider:{type:"iosslider",enabled:d,element:s},is_flexslider:{type:"flexslider",enabled:l,element:p},is_elevateZoom:{type:"elevatezoom",enabled:m,element:f},is_easyzoom:{type:"easyzoom",enabled:_,element:u},is_easyzoom_flatsome:{type:"easyzoom-flatsome",enabled:g,element:h},is_wc27_gallery:{type:"woocommerce",enabled:v,element:b},is_zoom_enabled:{type:"zoom",enabled:!v&&x,element:F}}}function jt(e,a,i,o,r,n,c){for(var d in e)if(e.hasOwnProperty(d)&&(d=e[d]).enabled)switch(d.type){case"yith":if(a){a.attr("srcset",i).attr("src-orig",i),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy");var s={elements:{zoom:t(".yith_magnifier_zoom"),zoomImage:a,gallery:t(".yith_magnifier_gallery li a")}};d.element.yith_magnifier(t.extend(!0,{},window.yith_magnifier_options,s))}else o?d.yith_wcmg_zoom.attr("href",d.yith_wcmg_default_zoom):d.yith_wcmg_zoom.attr("href",d._yith_wcmg_default_zoom),d.element.data("yith_magnifier")&&d.element.yith_magnifier("destroy"),d.element.yith_magnifier(window.yith_magnifier_options);break;case"iosslider":setTimeout(function(t){t.element.iosSlider("update")}.bind(null,d),150);break;case"flexslider":ct.trigger("resize");break;case"elevatezoom":d.element.each(function(t,e){var a=e(this).data("elevateZoom");void 0!==a&&a.swaptheimage(t,t)}.bind(null,i,t));break;case"easyzoom":d.element.swap(null,i);break;case"easyzoom-flatsome":d.element.swap(i,i);break;case"woocommerce":d.element.flexslider(0);var l=d.element;window.setTimeout(function(t,e){t.trigger("woocommerce_gallery_init_zoom"),e.trigger("resize")}.bind(null,l,ct),10);break;case"zoom":if(c){var p=c.find(".woocommerce-product-gallery--with-images").width(),m=!1;if(d.element.find("img.wp-post-image").attr("data-large_image_width")>p&&(m=!0),m){var f={touch:!1};"ontouchstart"in window&&(f.on="click"),d.element.trigger("zoom.destroy"),d.element.zoom(f)}else d.element.trigger("zoom.destroy")}}ct.trigger("tm_gallery_compatibility_actions",{event_data:r,product_element:c,form:n})}function Tt(){var t=o.closest("#product-"+c);return t.length<=0&&(t=o.closest(".post-"+c)),t}function Dt(e){var a;return""!==D.tm_epo_global_product_image_selector?a=t(D.tm_epo_global_product_image_selector):0===(a=e.find(".woocommerce-product-gallery__image:not(.clone), .woocommerce-product-gallery__image--placeholder:not(.clone)").eq(0).find(".wp-post-image").first()).length&&(a=e.find("a.woocommerce-main-image img, img.woocommerce-main-image,a img").not(".thumbnails img,.product_list_widget img").first()),t(a).length>1&&(a=t(a).first()),a}function It(t,e,a,i){var o=a.find(".flex-control-nav li:eq(0) img"),r=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n=e,c=e.closest("a");t&&t.image_link&&t.image_link&&t.image_link.length>1?(null===t.full_src&&(t.full_src=t.image_link),null===t.full_src_w&&(t.full_src_w=n.attr("data-large_image_width")),null===t.full_src_h&&(t.full_src_h=n.attr("data-large_image_height")),n.length&&(t.image_srcset||(t.image_sizes=!1),t.image_sizes||(t.image_srcset=!1),n.tc_set_attr("src",t.image_link,0),n.tc_set_attr("srcset",t.image_srcset,0),n.tc_set_attr("sizes",t.image_sizes,0),n.tc_set_attr("title",t.image_title,0),n.tc_set_attr("alt",t.image_alt,0),n.tc_set_attr("data-src",t.full_src,0),n.tc_set_attr("data-large_image",t.full_src,0),n.tc_set_attr("data-large_image_width",t.full_src_w,0),n.tc_set_attr("data-large_image_height",t.full_src_h,0),r.tc_set_attr("data-thumb",t.image_link,1)),o.length&&o.tc_set_attr("src",t.image_link,2),c.length&&(c.tc_set_attr("href",t.full_src,3),c.tc_set_attr("title",t.image_caption,3))):(n.length&&(n.tc_reset_attr("src",0),n.tc_reset_attr("srcset",0),n.tc_reset_attr("sizes",0),n.tc_reset_attr("title",0),n.tc_reset_attr("alt",0),n.tc_reset_attr("data-src",0),n.tc_reset_attr("data-large_image",0),n.tc_reset_attr("data-large_image_width",0),n.tc_reset_attr("data-large_image_height",0),r.tc_reset_attr("data-thumb",1)),o.length&&o.tc_reset_attr("src",2),c.length&&(c.tc_reset_attr("href",3),c.tc_reset_attr("title",3)))}function At(e,a,i){var o=a.find(".flex-control-nav li:eq(0) img"),r=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n=e,c=e.closest("a");t.isEmptyObject(t.tc_product_image)?t.tc_product_image_store=t.tc_populate_store(e,a,i):t.tc_product_image_store=t.tc_maybe_copy_object_values(t.tc_product_image_store,t.tc_product_image),n.tc_update_attr("src",0),n.tc_update_attr("srcset",0),n.tc_update_attr("sizes",0),n.tc_update_attr("title",0),n.tc_update_attr("alt",0),n.tc_update_attr("data-src",0),n.tc_update_attr("data-large_image",0),n.tc_update_attr("data-large_image_width",0),n.tc_update_attr("data-large_image_height",0),r.tc_update_attr("data-thumb",1),o.tc_update_attr("src",2),c.tc_update_attr("href",3),c.tc_update_attr("title",3)}function Ot(e,a,i){var o=a.find(".flex-control-nav li:eq(0) img"),r=a.find(".woocommerce-product-gallery__wrapper ").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0),n=e,c=e.closest("a");n.attr("data-o_src",t.tc_product_image_store[0].src),n.attr("data-o_srcset",t.tc_product_image_store[0].srcset),n.attr("data-o_sizes",t.tc_product_image_store[0].sizes),n.attr("data-o_title",t.tc_product_image_store[0].title),n.attr("data-o_alt",t.tc_product_image_store[0].alt),n.attr("data-o_data-src",t.tc_product_image_store[0]["data-src"]),n.attr("data-o_data-large_image",t.tc_product_image_store[0]["data-large_image"]),n.attr("data-o_data-large_image_width",t.tc_product_image_store[0]["data-large_image_width"]),n.attr("data-o_data-large_image_height",t.tc_product_image_store[0]["data-large_image_height"]),r.attr("data-o_data-thumb",t.tc_product_image_store[1]["data-thumb"]),t.tc_product_image_store[2]&&o.attr("data-o_src",t.tc_product_image_store[2].src),c.attr("data-o_href",t.tc_product_image_store[3].href),c.attr("data-o_title",t.tc_product_image_store[3].title)}function St(){setTimeout(function(){"inline"==window.tm_epo_js.tm_epo_global_product_image_mode?Lt():Et()},window.tc_epo_product_image_setup_delay||0)}function Et(){var a,i,r=ee.form,n=Tt(),c=[];a=Dt(n),i=Nt(a,n),t(a).length>0&&(r.on("reset_image.tcpi",function(i){t.tc_product_image=t.tc_replace_object_values(t.tc_product_image,t.tc_product_image_store);var c=[];t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&""!==a.val()&&c.push(a)}),c.length?c[c.length-1].trigger("tm_trigger_product_image"):t.tc_product_image_store=t.tc_populate_store(a,n,r)}),r.on("found_variation.tcpi",function(i,c){At(a,n,r);var d=[];t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&""!==a.val()&&d.push(a)}),d.length&&(Ot(a,n,r),d[d.length-1].trigger("tm_trigger_product_image"))}),t.tc_product_image_store=t.tc_maybe_copy_object_values_from_img(t.tc_product_image_store,a,n,r),o.off("tm_change_product_image").on("tm_change_product_image",function(d,s){var l=s.element,p=s.element_current;if(l&&p){var m=""!==l.data("imagep")?"imagep":"image",f=s.element_current.data("image-variations");if(f&&(f=f[m]),c=[],t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);a.is("option")&&(a=a.closest("select")),e(a)&&""!==a.val()&&c.push(a)}),c.length&&!c[c.length-1].is(l))return;It(f,a,n,r),jt(i,a,f.image_link,!1,s,r,n)}}),o.off("tm_restore_product_image").on("tm_restore_product_image",function(c,d){var s=d.element,l=[];s&&(t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&""!==a.val()&&l.push(a)}),l.length&&!l[l.length-1].is(s))?l[l.length-1].trigger("tm_trigger_product_image"):(It(!1,a,n,r),jt(i,!1,a.attr("src"),!1,d,r,n))}),o.off("tm_attempt_product_image").on("tm_attempt_product_image",function(t,e){}),c=[],t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&""!==a.val()&&c.push(a)}),c.length&&c[c.length-1].trigger("tm_trigger_product_image")),ct.trigger("tm_product_image_loaded")}function Lt(){var a,i,r=ee.form,d=Tt();if(a=Dt(d),i=Nt(a,d),t(a).length>0){a.data("tm-current-image",!1);var s=a.closest("a"),l=a.attr("src"),p=a.width(),m=a.height();o.off("tm_change_product_image").on("tm_change_product_image",function(o,d){var s,l=d.element.closest(".cpf-section"),f=(l.is(".tm-epo-variation-section")?l:d.epo_holder).find(".tm-product-image:checked,select.tm-product-image"),_=[],u=d.element.attr("id"),g=!0,h=d.main_product,v=h.closest("#product-"+c),b=p,y=m,w=t("<div class='blockUI blockOverlay tm-preloader-img'></div>");v.length<=0&&(v=h.closest(".post-"+c)),0===(s=v.find("#"+u+"_tmimage")).length&&(s=a);var k=function(){w.remove(),r.tc_image_update(!1),a.data("tm-current-image",!1),v.find(".tm-clone-product-image").hide(),a.show()};if(d.src!=s.attr("src")||!s.is(":visible"))if(!1!==d.src){w.css({width:b,height:y}),f.each(function(){var a=t(this);e(a)&&zt(a)&&n({element:a.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&_.push(a)}),_.length&&(f=_[_.length-1]).attr("id"),f.attr("id")!=d.element.attr("id")&&(g=!1);var x=a.tm_clone(),F=new Image;x.removeAttr("data-o_src").removeAttr("data-o_title").removeAttr("data-o_alt").removeAttr("data-o_srcset").removeAttr("data-o_sizes").removeAttr("srcset").removeAttr("sizes"),g&&a.before(w),i.is_yith_wcmg.yith_wcmg_default_zoom=i.is_yith_wcmg.element.find(".yith_magnifier_zoom").first().attr("href"),i.is_yith_wcmg.yith_wcmg_default_image=i.is_yith_wcmg.element.find(".yith_magnifier_zoom img").first().attr("src"),F.onerror=function(){k()},F.onload=function(){if("naturalHeight"in this){if(this.naturalHeight+this.naturalWidth===0)return void this.onerror()}else if(this.width+this.height===0)return void this.onerror();v.find("#"+u+"_tmimage").remove(),v.find(".tm-clone-product-image").hide(),x.prop("src",F.src).hide(),a.hide().after(x),x.css("opacity",0).show(),jt(i,x,F.src),w.animate({opacity:0},750,"easeOutExpo",function(){w.remove()}),x.animate({opacity:1},window.tc_epo_image_animation_delay||1500,"easeOutExpo",function(){}),ct.trigger("tm_change_product_image_loaded",{src:d.src,element:d.element,main_product:d.main_product,epo_holder:d.epo_holder})},x.attr("id",u+"_tmimage").addClass("tm-clone-product-image").hide(),x.attr("src-orig")&&x.attr("src-orig",d.src),g?(F.src=d.src,r.tc_image_update(d.element,x),a.data("tm-current-image",u),ct.trigger("tm_change_product_image_show",{src:d.src,element:d.element,main_product:d.main_product,epo_holder:d.epo_holder})):(x.prop("src",d.src).hide(),a.after(x)),ct.trigger("tm_change_product_image_end",{src:d.src,element:d.element,main_product:d.main_product,epo_holder:d.epo_holder})}else k()}),o.off("tm_restore_product_image").on("tm_restore_product_image",function(t,e){ct.trigger("tm_restore_product_image_pre",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});var o,n,d,p,m,f=e.element.attr("id"),_=e.main_product,u=_.closest("#product-"+c),g=e.element.closest(".cpf-section"),h=g.is(".tm-epo-variation-section")?g:e.epo_holder,v=!1;if(u.length<=0&&(u=_.closest(".post-"+c)),d=u.find("#"+f+"_tmimage").is(":visible"),u.find("#"+f+"_tmimage").remove(),0===u.find(".tm-clone-product-image").length)a.show(),a.data("tm-current-image",!1),r.tc_image_update(!1);else{if(!d)return void ct.trigger("tm_restore_product_image_loaded_exit",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder});p=u.find(".tm-clone-product-image").length,f=a.data("tm-current-image");for(var b=p-1;b>=0;b--){if(n=u.find(".tm-clone-product-image").eq(b),o=n.attr("id").replace("_tmimage",""),(m=h.find('[id="'+o+'"]')).is(":checked")&&m.closest(".cpf_hide_element").is(":visible")){u.find(".tm-clone-product-image").eq(b).show(),s.attr("href",u.find(".tm-clone-product-image").eq(b).prop("src")),a.data("tm-current-image",o),v=!0;break}u.find(".tm-clone-product-image").eq(b).hide()}v?u.find("#"+f+"_tmimage").remove():(a.show(),a.data("tm-current-image",!1),r.tc_image_update(!1))}jt(i,!1,v?n.attr("src"):l,u.find(".tm-clone-product-image").filter(":visible").length),ct.trigger("tm_restore_product_image_loaded",{element:e.element,main_product:e.main_product,epo_holder:e.epo_holder})}),o.off("tm_attempt_product_image").on("tm_attempt_product_image",function(o,d){var p,m,f,_,u=d.main_product,g=u.closest("#product-"+c),h=d.element?d.element.closest(".cpf-section"):t(u.find(".tm-epo-variation-section"),d.epo_holder),v=h.is(".tm-epo-variation-section")?h:d.epo_holder,b=v.find(".tm-product-image:checked,select.tm-product-image"),y=[],w="",k=!1,x=a.data("tm-current-image");if(g.length<=0&&(g=u.closest(".post-"+c)),v=u.find(".tm-epo-variation-section").add(d.epo_holder),(b=v.find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&zt(a)&&n({element:a.closest(".cpf_hide_element"),operator:"isnotempty",value:""})&&y.push(a)}),y.length&&(w=(b=y[y.length-1]).attr("id")),!y.length||!b.length||x&&w==x){var F=v.find('[id="'+x+'"]').closest(".cpf_hide_element");if(x&&(!1===F.data("isactive")||!1===F.closest(".cpf-section").data("isactive"))){if(g.find("#"+x+"_tmimage").remove(),0===(f=g.find(".tm-clone-product-image").length))a.show(),a.data("tm-current-image",!1),r.tc_image_update(!1);else{for(var q=f-1;q>=0;q--){if(p=g.find(".tm-clone-product-image").eq(q),m=p.attr("id").replace("_tmimage",""),(_=v.find('[id="'+m+'"]')).is(":checked")&&_.closest(".cpf_hide_element").is(":visible")){g.find(".tm-clone-product-image").eq(q).show(),s.attr("href",g.find(".tm-clone-product-image").eq(q).prop("src")),a.data("tm-current-image",m),k=!0;break}g.find(".tm-clone-product-image").eq(q).hide()}k||(a.show(),a.data("tm-current-image",!1),r.tc_image_update(!1))}jt(i,!1,k?p.attr("src"):l,g.find(".tm-clone-product-image").filter(":visible").length)}}else b.last().trigger("tm_trigger_product_image")});var f=[];t(Kt.find(".tm-product-image:checked,select.tm-product-image")).add(o.find(".tm-epo-variation-section").find(".tm-product-image:checked,select.tm-product-image")).each(function(){var a=t(this);e(a)&&""!==a.val()&&f.push(a)}),f.length&&f[f.length-1].trigger("tm_trigger_product_image")}ct.trigger("tm_product_image_loaded")}function Mt(e,a,i,o){var r='input[name^="variation_id"]';if(e.find("input.variation_id").length>0&&(r="input.variation_id"),o.find(".tm-epo-variation-element").length||o.data("tm-epo-variation-element")){o.data("tm-epo-variation-element",o.find(".tm-epo-variation-element"));var n,c=o.find(".tm-epo-variation-section");if(a&&"main"!=a){n=c.closest("li.tm-extra-product-options-field"),c.is(".tm-hidden")||e.find(".variations").hide(),e.find(".variations").after(c.addClass("tm-extra-product-options nopadding")),n.is(":empty")&&n.hide();var d=!1;e.off("wc_variation_form.tmlogic").on("wc_variation_form.tmlogic",function(){d=!0,e.find(".variations_form").on("click.tmlogic",".reset_variations",function(t){e.find(".tm-epo-variation-element").closest("li").show(),e.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),e.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),ct.trigger("tmlazy"),i.find(".tm-epo-variation-element").trigger("tm_trigger_product_image")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(t,a){F(e)});for(var t=0;t<X.length;t++){var a=X[t];if("object"==typeof a){var o="string"==typeof a.name||!1,n="string"==typeof a.selector||!1,c="function"==typeof a.func||!1;o&&c&&('input[name="variation_id"]'==n&&(n=r),a.selector?e.data("tm-styled-variations",1).off(a.name,a.selector).on(a.name,a.selector,a.func):e.data("tm-styled-variations",1).off(a.name).on(a.name,a.func))}}X=[],e.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}),dt.ready(function(){0==d&&e.trigger("wc_variation_form.tmlogic")})}else{e=e.find(".variations_form"),c.is(".tm-hidden")||e.find(".variations").hide(),n=c.closest("li.tm-extra-product-options-field"),e.find(".variations").after(c.addClass("tm-extra-product-options nopadding")),n.is(":empty")&&n.hide(),e.off("click.tmlogic",".reset_variations").on("click.tmlogic",".reset_variations",function(t){e.find(".tm-epo-variation-element").closest("li").show(),e.find("select.tm-epo-variation-element").val("").children("option").removeAttr("disabled").show(),e.find(".tm-epo-variation-element").removeAttr("disabled").removeClass("tm-disabled").removeAttr("checked").prop("checked",!1),ct.trigger("tmlazy"),i.find(".tm-epo-variation-element").trigger("tm_trigger_product_image")}),e.off("woocommerce_update_variation_values_tmlogic").on("woocommerce_update_variation_values_tmlogic",function(t,a){F(e)});for(var s=0;s<X.length;s++){var l=X[s];if("object"==typeof l){var p="string"==typeof l.name||!1,m="string"==typeof l.selector||!1,f="function"==typeof l.func||!1;p&&f&&('input[name="variation_id"]'==m&&(m=r),l.selector?e.data("tm-styled-variations",1).off(l.name,l.selector).on(l.name,l.selector,l.func):e.data("tm-styled-variations",1).off(l.name).on(l.name,l.func))}}X=[],e.find(".tm-epo-variation-element").last().trigger("tm_epo_variation_element_change")}Wt[Wt.length]={trigger:function(){return!0},on_true:function(){return i.find(".tm-epo-variation-element").attr("disabled","disabled"),!0},on_false:function(){i.find(".tm-epo-variation-element").removeAttr("disabled")}},t(document.body).on("added_to_cart",function(){i.find(".tm-epo-variation-element").removeAttr("disabled")})}}function Pt(a,i,o){var r=0;return t.each(ae,function(n,c){var d,s,l=c.price,p=c.original_price,m=c.setter,f=c.bundleid,_=m;m.is("option")&&(_=m.closest("select")),d=_.attr("name").tmjid();var v=t(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-product-id"),b=t(".tc-totals-form.tm-totals-form-"+o.attr("data-cart-id")).attr("data-epo-id");s=t(".tc-extra-product-options.tm-product-id-"+v+"[data-epo-id='"+b+"']").find("#"+d+"_hidden");var w,k;f==i?(l=l/100*a,p=p/100*a,_.data("tm-quantity")&&(l*=parseFloat(_.data("tm-quantity")),p*=parseFloat(_.data("tm-quantity"))),1==m.data("isset")&&e(m)&&(r+=l),w=h(l,o,!0,!1,m),k=h(p,o,!0,!1,m),m.data("price",u(l,o,m)),m.data("pricew",u(l,o,m)),m.data("original_price",u(p,o,m)),m.data("original_pricew",u(p,o,m)),y(m.closest(".tmcp-field-wrap").find(".tc-price"),l,w,p,k),0===s.length&&_.before('<input type="hidden" id="'+d+'_hidden" name="'+d+'_hidden" value="'+g(l,o,m)+'" />'),m.is(".tm-epo-field.tmcp-radio")?m.is(":checked")&&s.val(g(l,o,m)):s.val(g(l,o,m))):void 0!==m.data("pricew")&&(w=h(m.data("pricew"),o,!0,!1,m),k="",void 0!==m.data("original_pricew")&&(k=h(m.data("original_pricew"),o,!0,!1,m)),y(m.closest(".tmcp-field-wrap").find(".tc-price"),m.data("pricew"),w,m.data("original_pricew"),k))}),ae=[],r}var Rt=!1;o=t(o),t.fn.apply_submit_events=w,ct.trigger("tm-epo-init-start");var Ut=!1,Zt=!1,Ht=!1,Wt=[],Xt=!1,$t=void 0!==c,Bt=!1,Gt=!1;if($t||o.is(".product")&&(Gt=!0,$t=at.find(Y).length),$t||"no"!=D.tm_epo_enable_final_total_box_all||o.is(".tm-no-options-composite")){if(Gt&&(ct.trigger("tm-epo-init-no-options"),!o.is(".product")||o.is(".tm-no-options-pxq")||o.is(".tm-no-options-composite")||(o=at)),!c){var Jt=o.find(Q).last();Jt.length>0?c=Jt.val():(Jt=t(".tc-totals-form.tm-totals-form-main"),c=Jt.attr("data-product-id")),c||(c="")}d||(d=parseInt(o.find("input.tm-epo-counter").last().val(),10),isNaN(d)&&(d=""));var Yt=".tm-product-id-"+c,Qt='[data-epo-id="'+d+'"]',Kt=t(".tc-extra-product-options"+Yt+Qt),Vt=t(".tc-totals-form"+Yt+Qt),te=t(".tc-epo-totals"+Yt+Qt);!function(){Ut||(Ut=k(o,"form",c));var e=x(),a=e.find(Y).length,i=e.find(".tc-totals-form").length;a>0&&(Zt=!0),i>0&&(Ht=!0),Ht||(Wt[Wt.length]={trigger:function(){return!0},on_true:function(){var a=t(".tc-totals-form.tm-product-id-"+c+'[data-epo-id="'+d+'"]').tm_clone(),i=t('<div class="tm-hidden tm-formepo-normal"></div>');return e.find(".tm-formepo-normal").remove(),i.append(a),e.append(i),!0},on_false:function(){setTimeout(function(){t(".tm-formepo").remove()},100)}}),Zt||(Wt[Wt.length]={trigger:function(){return!0},on_true:function(){var a=t(Y+".tm-product-id-"+c+'[data-epo-id="'+d+'"]').tm_clone(),i=t('<div class="tm-hidden tm-formepo"></div>');return e.find(".tm-formepo").remove(),i.append(a),e.append(i),!0},on_false:function(){setTimeout(function(){t(".tm-formepo").remove()},100)}})}(),Ut.data("product_id",c).data("epo_id",d).data("product_id_selector",Yt).data("epo_id_selector",Qt),function(){Kt.on("change.cpflimit","input.tm-epo-field.tmcp-checkbox",function(){var e=t(this);j(e,!0),I(e,!0)});var e=Kt.find(".tm-exactlimit");e.length&&O(e);var a=Kt.find(".tm-minimumlimit");a.length&&W(a)}(),"yes"==D.tm_epo_upload_popup&&(Wt[Wt.length]={trigger:function(){return!0},on_true:function(){var e=Kt.data("num_uploads");return e&&t("body").tm_floatbox({fps:1,ismodal:!0,refresh:"fixed",width:"50%",height:"300px",classname:"flasho tm_wrapper",data:t.fn.tm_template(st.tc_upload_messages,{files:e,title:D.i18n_uploading_files,message:D.i18n_uploading_message})}),!0},on_false:function(){return!0}}),l(),s(),dt.on("click.cpfurl change.cpfurl tmredirect",".use_url_container .tmcp-radio, .use_url_container .tmcp-radio+label",function(e){var a=t(this).attr("data-url");a&&window.location!=a&&(e.preventDefault(),window.location=a)}),dt.on("change.cpfurl tmredirect",".use_url_container .tmcp-select",function(e){var a=t(this).children("option:selected").attr("data-url");a&&window.location!=a&&(e.preventDefault(),window.location=a)}),lt(),function(){try{t(".tm-epo-field.tmcp-upload").not(".tm-multiple-file-upload").each(function(e,a){var i=t(a);if(P||R){var o=new P("").clipboardData||new R;o.items.add(new File([i.attr("data-file")],i.attr("data-filename"))),a.files=o.files}i.trigger("change"),i.after('<input type="hidden" class="tmcp-upload-hidden" name="'+i.attr("name")+'" value="'+i.attr("data-file")+'" />')})}catch(t){}}(),t.tm_tooltip(Kt.find(".tm-tooltip")),Kt.find(".tm-collapse").tmtoggle(),Kt.find(".tm-section-link").tmsectionpoplink();var ee={main_product:o,main_cart:Ut,epo_id:d,form:x(),main_epo_inside_form:Zt,product_id_selector:Yt,epo_id_selector:Qt,product_id:c,this_epo_container:Kt,this_totals_container:Vt,this_epo_totals_container:te,qty_selector:V};t(ee.form).data("epo_object",ee);var ae=[],ie=o.find(".variations_form");if(ie.length>0){var oe=function(){ie.on("wc_variation_form.cpf",function(){ie.data("tc_loaded")||(p(Kt),m(Kt),i(Kt),ae=[],yt(),St(),setTimeout(function(){Ut.trigger({type:"tm-epo-update"})},10),ie.data("tc_loaded",!0))}),it&&ie.trigger("wc_variation_form.cpf")},re=!1;if(t(".variation_form_section .variations-table").length&&(re=!0),re){var ne=function(){var t=requestAnimationFrame(ne);ie.data("bound")&&(cancelAnimationFrame(t),oe(),ie.trigger("wc_variation_form.cpf"))};ne()}else oe()}else setTimeout(function(){p(Kt),m(Kt),i(Kt),ae=[],yt(),St(),kt(),Ut.trigger("tm-epo-check-dpd"),Ut.trigger({type:"tm-epo-update"})},20),t(".composite_data").on("wc-composite-initializing",function(e,a){a.actions.add_action("component_summary_content_updated",function(e){var a=o.find(".bto_form,.composite_form"),i=o.find("#composite_summary_"+a.data("product_id")).find(".summary_element.summary_element_"+e.step_id),r=t(".widget_composite_summary_elements").find(".summary_element.summary_element_"+e.step_id),n=a.find(".tc-epo-totals.tm-cart-"+e.step_id);n.data("tc_totals_ob")&&(i.find(".amount").html(n.data("tc_totals_ob").formatted_final_total),r.find(".amount").html(n.data("tc_totals_ob").formatted_final_total))},100,this)});Ft(),qt(),Ct(),function(){if(!r&&D.floating_totals_box&&"disable"!=D.floating_totals_box&&Ut&&te.length){var e,a=t('<div class="tm-floating-box '+D.floating_totals_box+'"></div>'),i=!1,o=t(".tm-floating-box-nks"),n=t(".tm-floating-box-alt"),c=!1;o.length>0?(i=!0,a.removeClass("top left right bottom").appendTo(o).show()):n.length>0?a.removeClass("top left right bottom").appendTo(n).hide():a.appendTo("body").hide(),(o.length>0||n.length>0)&&(c=!0);var d=function(){"always"!=D.floating_totals_box_visibility?t(window).scrollTop()>100||c?a.is(":hidden")&&!a.is(":empty")||c?i?a.show():a.fadeIn():!a.is(":hidden")&&a.is(":empty")&&(i?a.hide():a.fadeOut()):a.is(":hidden")||(i?a.hide():a.fadeOut()):a.show()},s=function(){var o=te.data("tm-html"),r=te.data("tm-floating-box-data"),n=[];if(r&&r.length&&t.each(r,function(e,a){""===a.title&&(a.title="&nbsp;"),""===a.value&&(a.value="&nbsp;"),a.title?(a.title=t("<div>"+a.title+"</div>"),a.title.find("span").remove(),a.title=a.title.html()):a.title="&nbsp;",i&&(""!==a.label_show&&(a.title=""),""!==a.value_show&&(a.value="")),n.push({label_show:a.label_show,value_show:a.value_show,title:a.title,value:a.value,quantity:a.quantity,price:h(a.price,te,!0,!1)})}),o&&""!==o||i?d():(o="",a.hide()),n&&!n.length&&n.push({label_show:"hidden",value_show:"hidden",title:"",value:"",quantity:0,price:0}),e=t.fn.tm_template(c?st.tc_floating_box_nks:st.tc_floating_box,{html_before:D.floating_totals_box_html_before,html_after:D.floating_totals_box_html_after,option_label:D.i18n_option_label,option_value:D.i18n_option_value,option_qty:D.i18n_option_qty,option_price:D.i18n_option_price,values:n,totals:o}),a.html(e),d(),"yes"==D.floating_totals_box_add_button){var s=Ut.find(tt).first();s.tm_clone().addClass("tc-add-to-cart-button").on("click",function(){s.click()}).appendTo(a)}};s(),Ut.on("tm-epo-after-update",function(){s()}),i||(d(),"always"==D.floating_totals_box_visibility&&t(window).on("scroll",function(){d()}))}}(),function(){var t=x();ct.trigger("tm-from-submit",{epo:{form:t,tm_apply_validation:b,form_submit_events:Wt,apply_submit_events:w,main_cart:Ut,main_epo_inside_form:Zt,product_id_selector:Yt,epo_id_selector:Qt,product_id:c,this_epo_container:Kt,this_totals_container:Vt,this_epo_totals_container:te}}),!b(t)&&Wt.length&&t.on("submit",w)}(),N(),function(){var e=te.attr("data-theme-name");if(e){e=e.toLowerCase();var a=Kt.find("select");switch(e){case"flatsome":case"flatsome-child":case"flatsome child":a.wrap('<div class="custom select-wrapper"/>');break;case"avada":case"avada-child":case"avada child":a.wrap('<div class="avada-select-parent tm-select-parent"></div>'),t('<div class="select-arrow">&#xe61f;</div>').appendTo(Kt.find(".tm-select-parent")),window.calc_select_arrow_dimensions?(L(),ct.on("tmsectionpoplink cpflogicdone",function(){L()})):window.calcSelectArrowDimensions&&(M(),ct.on("tmsectionpoplink cpflogicdone",function(){M()}));break;case"bazar":case"bazar-child":case"bazar child":a.wrap('<div class="tm-select-wrapper select-wrapper"/>');break;case"blaszok":case"blaszok-child":case"blaszok child":var i=function(){setTimeout(function(){t(".tm-extra-product-options select").not(".hasCustomSelect").filter(":visible").each(function(){t(this).is(".mpcthSelect")||(t(this).width(t(this).outerWidth()),t(this).customSelect({customClass:"mpcthSelect"}))})},100)};ct.on("cpflogicrun",function(){i()}),ct.on("epo_options_visible",function(){i()});break;case"handmade":case"handmade child theme":t(".tm-owl-slider.tcowl-carousel").addClass("manual")}ct.trigger("tm-theme-specific-actions",{epo:{theme_name:e,all_epo_selects:a}})}dt.off("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus").on("click.cpf",".quantity:not(.buttons_added) .minus, .quantity:not(.buttons_added) .plus",function(){t(this).closest(".quantity").find(V).trigger("change.cpf")})}(),dt.tcready(function(){z()}),ct.trigger("tm-epo-compatibility",{epo:{form:x(),main_cart:Ut,main_epo_inside_form:Zt,product_id_selector:Yt,epo_id_selector:Qt,product_id:c,this_epo_container:Kt,this_totals_container:Vt,this_epo_totals_container:te}}),ct.on("cpflogicdone",function(){wt()}),ct.trigger("tm-epo-init-end",{epo:ee})}else ct.trigger("tm-epo-init-end-no-options")}function N(e){var a=t(e),i=a.attr("data-product-id"),o=a.attr("data-epo-id");z(a.parent(),!1,i,o)}function j(e){"no"==D.tm_epo_no_lazy_load&&t.extend(t.lazyLoadXT,{autoInit:!1,selector:"img.tmlazy",srcAttr:"data-original",visibleOnly:!1,updateEvent:t.lazyLoadXT.updateEvent+" tmlazy"});var a=t(".tm-no-options-pxq, .tm-no-options-composite");a.length>0&&a.each(function(e,a){z(t(a),!1)});try{var i=t(Y).not(".tm-no-options-pxq, .tm-no-options-composite");i.length>0&&i.each(function(e,a){var i=t(this),o=i.attr("data-product-id"),r=i.attr("data-epo-id"),n=!1,c=t(Q+'[value="'+o+'"]').closest("form,.cart").first().parent();c.length<=0&&(c=t(K+'[value="'+o+'"]').closest("form,.cart").first().parent()).length<=0&&((c=i.closest("form,.cart").first().parent(".tm-has-options")).length<=0&&i.is(".tc-shortcode")&&(c=i.wrap('<div class="tc-shortcode-wrap tc-wrap-'+r+'"></div>'),c=i.parent()),c.length>0&&(n=!0,i.closest("form,.cart").first().append(t('<input name="add-to-cart" value="'+o+'" type="hidden" />')),i.closest("form,.cart").first().append(t('<input type="hidden" value="" class="variation_id" name="variation_id">')))),c.length>0&&(c.is("form")&&(c=c.parent()),z(c,n,o,r))})}catch(t){}}var T=window.accounting,D=window.tm_epo_js,I=window.getSystemDecimalSeparator,A=window.wp,O=window.tm_epo_q_translate_x_clogic_js,S=window.wNumb,E=window.noUiSlider,L=window.calc_select_arrow_dimensions,M=window.calcSelectArrowDimensions,P=window.ClipboardEvent,R=window.DataTransfer;String.prototype.tmunformat=function(){var t=T.unformat(this,U),e=parseFloat(t);return isNaN(e)?t:e};var U=""===D.tm_epo_global_input_decimal_separator?D.currency_format_decimal_sep:I(),Z=""===D.tm_epo_global_displayed_decimal_separator?D.currency_format_decimal_sep:I(),H=""===D.tm_epo_global_displayed_decimal_separator?D.currency_format_thousand_sep:","==I()?".":",",W=!1,X=[],$=[],B=!1,G=D.tm_epo_start_animation_delay||window.tc_epo_delay||500,J=D.tm_epo_animation_delay||window.tc_epo_animation_delay||500,Y=".tc-extra-product-options",Q='input[name="add-to-cart"]',K="input.tc-add-to-cart",V='input.qty,input[name="quantity"],select.qty,.drop-down-button #qty,.plus-minus-button #qty,.slider-input #amount',tt=".add_to_cart_button, .single_add_to_cart_button",et=".bto_item,.component",at=t("body"),it=!1,ot=".composite_data .composite_wrap .price .amount",rt=".component_wrap .price",nt=".woocommerce div.product p.price",ct=t(window),dt=t(document),st={price:A.template("tc-price"),sale_price:A.template("tc-sale-price"),tc_section_pop_link:A.template("tc-section-pop-link"),tc_floating_box:A.template("tc-floating-box"),tc_floating_box_nks:A.template("tc-floating-box-nks"),tc_chars_remanining:A.template("tc-chars-remanining"),tc_final_totals:A.template("tc-final-totals"),tc_lightbox:A.template("tc-lightbox"),tc_lightbox_zoom:A.template("tc-lightbox-zoom"),tc_formatted_price:A.template("tc-formatted-price"),tc_upload_messages:A.template("tc-upload-messages")};st=t.tc_apply_filters("tc_adjust_template_engine",st),t.extend(t.tc_validator.messages,{required:D.tm_epo_global_validator_messages.required,email:D.tm_epo_global_validator_messages.email,url:D.tm_epo_global_validator_messages.url,number:D.tm_epo_global_validator_messages.number,digits:D.tm_epo_global_validator_messages.digits,maxlength:t.tc_validator.format(D.tm_epo_global_validator_messages.maxlength),minlength:t.tc_validator.format(D.tm_epo_global_validator_messages.minlength),max:t.tc_validator.format(D.tm_epo_global_validator_messages.max),min:t.tc_validator.format(D.tm_epo_global_validator_messages.min),step:t.tc_validator.format(D.tm_epo_global_validator_messages.step),lettersonly:t.tc_validator.format(D.tm_epo_global_validator_messages.lettersonly),lettersspaceonly:t.tc_validator.format(D.tm_epo_global_validator_messages.lettersspaceonly),alphanumeric:t.tc_validator.format(D.tm_epo_global_validator_messages.alphanumeric),alphanumericunicode:t.tc_validator.format(D.tm_epo_global_validator_messages.alphanumericunicode),alphanumericunicodespace:t.tc_validator.format(D.tm_epo_global_validator_messages.alphanumericunicodespace)}),t.tc_validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},t.tc_validator.messages.alphanumeric),t.tc_validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},t.tc_validator.messages.lettersonly),t.tc_validator.addMethod("lettersspaceonly",function(t,e){return this.optional(e)||/^[a-z," "]+$/i.test(t)},t.tc_validator.messages.lettersspaceonly),t.tc_validator.addMethod("alphanumericunicode",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF]+$/i.test(t)},t.tc_validator.messages.alphanumericunicode),t.tc_validator.addMethod("alphanumericunicodespace",function(t,e){return this.optional(e)||/^[\u0030-\u0039\u0041-\u005A\u0061-\u007A\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF\u0100-\u0148\u014A-\u017F\u0180-\u01BF\u01C4-\u024F\u1E02-\u1EF3\u0370-\u03FF\u0400-\u04FF," "]+$/i.test(t)},t.tc_validator.messages.alphanumericunicodespace),t.fn.tm_find_matching_variations=function(e,a){var i=[];if(e)for(var o=0;o<e.length;o++){var r=e[o];t.fn.tm_variations_match(r.attributes,a)&&i.push(r)}return i},t.fn.tm_variations_match=function(t,e){var a=!0;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i],r=e[i];void 0!==o&&void 0!==r&&0!==o.length&&0!==r.length&&o!==r&&(a=!1)}return a},t().tclightbox||(t.fn.tclightbox=function(){var e=this;if(0!==e.length)return e.each(function(){var e=t(this);if(!e.is(".tcinit")){var a=e.attr("src")||e.attr("data-original"),i=e.closest("label"),o=i.closest(".tmcp-field-wrap").find(".tm-epo-field[id='"+i.attr("for")+"']");if(a=o.attr("data-imagel")||o.attr("data-imagep")||o.attr("data-image")||a){e.addClass("tcinit").before(t.fn.tm_template(st.tc_lightbox,{}));var r=e.prev();e.wrap('<div class="tc-lightbox-image-wrap"/>'),e.after(r);var n=r.find(".tc-lightbox-button"),c=new Image;c.src=a,c.onload=function(){n.addClass("tcinit").on("click.tclightbox",function(e){if(!(t(".tc-closing.tc-lightbox").length>0)){var i=t.tm_getPageSize(),o=t("<img>").addClass("tc-lightbox-img").attr("src",a).css("maxHeight",i[3]+"px").css("maxWidth",i[2]+"px"),r=t("body").tm_floatbox({fps:1,ismodal:!1,refresh:"fixed",width:"auto",height:"auto",top:"0%",left:"0%",classname:"flasho tc-lightbox",animateIn:"tc-lightbox-zoomIn",animateOut:"tc-lightbox-zoomOut",data:t.fn.tm_template(st.tc_lightbox_zoom,{img:o[0].outerHTML}),zIndex:102001});t(".tc-lightbox-img, .tc-lightbox-button-close").on("click",function(){r.cancelfunc()}),e.preventDefault()}})}}}})},dt.ready(function(){t(".tc-lightbox-image").not(".tm-extra-product-options-variations .radio_image").tclightbox()})),t().tmsectionpoplink||(t.fn.tmsectionpoplink=function(){var e=this;if(0!==e.length)return e.each(function(){var e=t(this),a=e.attr("data-sectionid"),i=e.attr("data-title")?e.attr("data-title"):D.i18n_addition_options,o=e.closest('.cpf-section[data-uniqid="'+a+'"]'),r=!1,n=t('<div class="fl-overlay"></div>').css({zIndex:e.zIndex-1,opacity:.8}),c=function(){var e=t("#tm-section-pop-up");e.parents().removeClass("noanimated"),n.unbind().remove(),e.after(o),e.remove(),o.find(".tm-section-link").show(),o.find(".tm-section-pop").hide()};e.on("click.tmsectionpoplink",function(e){e.preventDefault(),r=!1,n.appendTo("body").click(c),o.before(t.fn.tm_template(st.tc_section_pop_link,{title:i,close:D.i18n_close}));var a=t("#tm-section-pop-up");a.find(".float_editbox").prepend(o),o.find(".tm-section-link").hide(),o.find(".tm-section-pop").show(),a.parents().addClass("noanimated"),a.find(".details_cancel").click(function(){r||(r=!0,c())}),ct.trigger("tmlazy"),ct.trigger("tmsectionpoplink")})})}),t().cpfdependson||(t.fn.cpfdependson=function(e,a,o,r){var n=this,c=0;if(0!==n.length&&"object"==typeof e)return a||(a="show"),o||(o="all"),t.each(e,function(a,o){if("object"!=typeof e)return!0;var n,d=s(o.element);d&&d.length>0&&(d.each(function(e,a){var o=t(a);if(!n){var c=".tm-product-id-"+o.closest(".tc-extra-product-options").attr("data-product-id"),d='[data-epo-id="'+o.closest(".tc-extra-product-options").attr("data-epo-id")+'"]';n=t(".tc-extra-product-options"+c+d)}if(a&&o.length>0&&(!o.data("tmhaslogicevents")||r)){if(o.is(".tm-epo-variation-element"))w("found_variation.tmlogic",!1,function(t,e){i(n),ct.trigger("tm-do-epo-update")}),w("hide_variation.tmlogic",!1,function(t,e){i(n),ct.trigger("tm-do-epo-update")});else{var s="change.cpflogic";(o.is(":text")||o.is("textarea"))&&(s="change.cpflogic keyup.cpflogic"),o.off(s).on(s,function(t){i(n)})}o.data("tmhaslogicevents",1)}}),c++)}),n.each(function(i,r){var n=t(this),d=!1;switch(n.data("matches",c).data("toggle",a).data("what",o).data("fields",e),a){case"show":d=!1;break;case"hide":d=!0}d?n.removeClass("tc-hidden"):n.addClass("tc-hidden"),n.data("isactive",d)}),n.addClass("iscpfdependson").data("iscpfdependson",1),n.each(function(){t(this).addClass("is-epo-depend")})},t.fn.run_cpfdependson=function(){i()}),t.tcepo={temp_floatbox:!1,tm_init_epo:function(t,e,a,i){z(t,e,a,i)}},ct.on("tc_manual_init",function(t,e){N(e)}),dt.ready(function(){ct.on("lazyLoadXToncomplete",function(){t(".tm-owl-slider").each(function(){t(this).trigger("refresh.owl.carousel")})}),ct.on("tc_init_epo_plugin",function(t){j()}),t.ajaxPrefilter(function(e,a,i){if("yes"==D.tm_epo_enable_in_shop){var o=!1,r=e.url.split("?");if(r&&r.length>=1&&(r=r[1])){for(var n=r.split("&"),c=0;c<n.length;c++){var d=n[c].split("=");d.length>=1&&d[0]&&d[1]&&"wc-ajax"==d[0]&&"add_to_cart"==d[1]&&(o=!0)}o&&(e.originalsuccess=e.success,e.success=function(i){if(i&&i.error&&i.product_url){var o=t('.ajax_add_to_cart[data-product_id="'+a.data.product_id+'"]');o.removeClass("added"),o.removeClass("loading")}else e.originalsuccess.call(null,i)})}}if(a.data){var s=a.data;"string"==typeof a.data&&(s=a.data.tmparseParams());var l=[];if(a.url&&(l=a.url.slice(a.url.indexOf("?")+1).tmparseParams()),"quantity"in s&&(s.product_id||s["add-to-cart"]||l.product_id||l["add-to-cart"]||s.tcaddtocart)){var p=s.product_id||s["add-to-cart"]||l.product_id||l["add-to-cart"]||s.tcaddtocart,m=t(".tc-extra-product-options.tm-product-id-"+p);if(1==m.length){var f=t(".tc-totals-form.tm-product-id-"+p).find(".cpf-product-price").val(),_=t(".tc-totals-form.tm-product-id-"+p).find(".tc_form_prefix").val(),u={tcajax:1,tcaddtocart:p,cpf_product_price:f};_&&(u.tc_form_prefix=_),e.data=e.data+"&"+t.param(t.extend(m.tm_aserializeObject(),u),!1)}}}}),dt.ajaxSuccess(function(e,a,i){t(".tm-cart-link").tmpoplink();var o=t.parseJSON(D.quickview_array||[]),r=t.parseJSON(D.quickview_container||[]),n={};for(var c in r)r.hasOwnProperty(c)&&(n[r[c][0]]=t(r[c][1]));t.extend(o,n);for(var d in o)if(o.hasOwnProperty(d)){var s=t(o[d]);if(s.length){if("yith_quick_view_plugin"==d&&s.find(".product").length<=0)continue;"woodmart_quick_view"!=d&&"lightboxpro"!=d&&"jckqv_quick_view"!=d&&"yith_quick_view_plugin"!=d&&"theme_flatsome"!=d||(it=!0);var l=(B=s).find(Y).attr("data-product-id"),p=B.find(Y).attr("data-epo-id");z(B,!0,l,p),ct.trigger("tmlazy"),ct.trigger("tm_epo_loaded_quickview"),t.jMaskGlobals&&B.find(t.jMaskGlobals.maskElements).each(function(){var e=t(this);e.attr("data-mask")&&e.mask(e.attr("data-mask"))})}}}),at.on("sober_quickview_opened",function(e){var a=(B=t("#quick-view-modal")).find(Y).attr("data-product-id"),i=B.find(Y).attr("data-epo-id");z(B,!0,a,i),ct.trigger("tmlazy"),ct.trigger("tm_epo_loaded_quickview"),t.jMaskGlobals&&B.find(t.jMaskGlobals.maskElements).each(function(){var e=t(this);e.attr("data-mask")&&e.mask(e.attr("data-mask"))})}),t("#wholesale_form").on("submit",function(){var e=t("form.cart").find(Q).val(),a=t(Y+'.tm-cart-main[data-product-id="'+e+'"]').tm_clone(),i=t('.tm-totals-form-main[data-product-id="'+e+'"]').tm_clone(),o=t('<div class="tm-hidden tm-formepo"></div>');return o.append(a),o.append(i),t(this).append(o),!0}),j(),t(".tm-cart-link").tmpoplink(),at.on("updated_checkout",function(){t(".tm-cart-link").tmpoplink()}),ct.trigger("tmlazy"),ct.trigger("tm_epo_loaded")}),t(document).ready(function(){t(document).on("click",".quantity .jckqv-qty-spinner, .quantity .ui-spinner-button",function(){t(this).closest(".quantity").find("input.qty").trigger("change")}),t(document).on("click","#add_to_quote",function(e){if(D&&"yes"==D.tm_epo_global_enable_validation){var a=t(this).parents("form"),i=a.find(".tm-epo-counter").val(),o=t(Y+'[data-epo-id="'+i+'"]');if(a.length>0&&o.length>0&&!a.tc_validate().form())return void e.stopImmediatePropagation()}}),t(".single_add_to_cart_button.paypal_checkout_button").click(function(e){var a=t(".cart");a.data("tc_validator")&&a.data("tc_validator").errorList&&e.stopImmediatePropagation()})})}(window.jQuery);